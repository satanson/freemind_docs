<map version="1.0.1">
<!-- To view this file, download free mind mapping software FreeMind from http://freemind.sourceforge.net -->
<node CREATED="1445180418661" ID="ID_1487251900" MODIFIED="1456336822583" TEXT="Linux Kernel Hacks">
<node CREATED="1446054124002" ID="ID_307835565" MODIFIED="1462154759857" POSITION="right" TEXT="&#x5185;&#x6838;&#x5165;&#x95e8;#1~#6">
<node CREATED="1445180639062" FOLDED="true" ID="ID_865001578" MODIFIED="1481673200547" TEXT="Hack#1 &#x83b7;&#x53d6;Linux&#x5185;&#x6838;">
<node CREATED="1445180653099" ID="ID_1304155466" MODIFIED="1445180665182" TEXT="Linux&#x5185;&#x6838;&#x5b58;&#x5728;&#x591a;&#x79cd;&#x884d;&#x751f;&#x7248;&#x672c;"/>
<node CREATED="1445180691035" FOLDED="true" ID="ID_314483677" MODIFIED="1481673198478" TEXT="Linux&#x5185;&#x6838;&#x7684;&#x5f00;&#x53d1;&#x6a21;&#x5f0f;">
<node CREATED="1445180731933" ID="ID_772026199" MODIFIED="1445180741584" TEXT="&#x591a;&#x5f00;&#x53d1;&#x8005;&#xff0c;&#x5206;&#x6563;&#x578b;"/>
<node CREATED="1445180752407" ID="ID_195218066" MODIFIED="1445183191463" TEXT="&#x591a;&#x4e2a;&#x884d;&#x751f;&#x6e90;&#x7801;&#x6811;&#x540c;&#x65f6;&#x5b58;&#x5728;">
<node CREATED="1445180838487" ID="ID_1279808891" MODIFIED="1445182074440" TEXT="mainline(&#x4e3b;&#x7ebf;) Linus&#x6811;">
<node CREATED="1445180887294" ID="ID_1782560617" MODIFIED="1445181120862" TEXT="Linus Torvalds&#x7ba1;&#x7406;&#xff0c;&#x53d1;&#x7248;"/>
<node CREATED="1445180908850" ID="ID_552768956" MODIFIED="1445180923786" TEXT="&#x5185;&#x6838;&#x6e90;&#x4ee3;&#x7801;&#x7684;root"/>
<node CREATED="1445180924352" ID="ID_715777989" MODIFIED="1445180960243" TEXT="2011&#x5e74; 2.6.39, &#x4e0b;&#x4e00;&#x7248;&#x672c;3.0"/>
<node CREATED="1445182077370" ID="ID_1814785492" MODIFIED="1445182083060" TEXT="&#x4e09;&#x4f4d;&#x7248;&#x672c;&#x53f7;"/>
<node CREATED="1445181124720" FOLDED="true" ID="ID_703961622" MODIFIED="1445181578566" TEXT="&#x53d1;&#x7248;-&gt;merge window-&gt;rc-&gt;rc1..rc2...(bugfix)-&gt;&#x53d1;&#x7248;">
<node CREATED="1445181263993" ID="ID_1214022047" MODIFIED="1445181279564" TEXT="&#x53d1;&#x7248;(release)">
<node CREATED="1445181230715" ID="ID_99155427" MODIFIED="1445181267734" TEXT="Linus&#x5224;&#x65ad;&#x5176;&#x8d28;&#x91cf;&#xff0c;&#x51b3;&#x5b9a;&#x53d1;&#x7248;"/>
</node>
<node CREATED="1445181268855" ID="ID_1494396005" MODIFIED="1445181333619" TEXT="&#x5408;&#x5e76;&#x7a97;&#x53e3;&#x671f;(merge window) ~ &#x4e24;&#x5468;&#x65f6;&#x95f4;">
<node CREATED="1445181306929" ID="ID_1408747805" MODIFIED="1445181373852" TEXT="&#x63a5;&#x53d7;&#x4e0b;&#x4e00;&#x7248;&#x672c;&#x7684;&#x53d8;&#x66f4;&#xff0c;&#x5f62;&#x6210;rc&#x7248;&#x672c;"/>
</node>
<node CREATED="1445181376064" ID="ID_1610445446" MODIFIED="1445181389386" TEXT="rc&#x5185;&#x6838;(release candidate)">
<node CREATED="1445181409684" ID="ID_1717312562" MODIFIED="1445181418300" TEXT="&#x5408;&#x5e76;&#x7a97;&#x53e3;&#x5173;&#x95ed;"/>
</node>
<node CREATED="1445181419073" ID="ID_1312541156" MODIFIED="1445181435452" TEXT="rc1,rc2 ... (bugfix)">
<node CREATED="1445181437944" ID="ID_647087679" MODIFIED="1445181475274" TEXT="&#x63a8;&#x51fa;&#x6bcf;&#x4e2a;rc&#x5927;&#x6982;&#x9700;&#x8981;1&#x5468;&#x5de6;&#x53f3;&#x65f6;&#x95f4;"/>
<node CREATED="1445181475857" ID="ID_168751137" MODIFIED="1445181498637" TEXT="&#x57fa;&#x672c;&#x4e0a;&#x9700;&#x8981;rc6~rc9&#x7684;&#x4fee;&#x6539;"/>
<node CREATED="1445181506603" ID="ID_645978092" MODIFIED="1445181521919" TEXT="2~3&#x6708;&#x53d1;&#x4e00;&#x6b21;&#x7248;"/>
</node>
<node CREATED="1445181499529" ID="ID_430661057" MODIFIED="1445181529715" TEXT="&#x53d1;&#x7248;"/>
</node>
<node CREATED="1445181580021" ID="ID_709309482" MODIFIED="1445181595544" TEXT="Linux&#x6811;&#x5185;&#x6838;&#xff0c;&#x6ca1;&#x6709;&#x534e;&#x800c;&#x4e0d;&#x5b9e;&#x7684;&#x4e1c;&#x897f;&#xff0c;&#x56e0;&#x6b64;&#x88ab;&#x79f0;&#x4e3a;">
<node CREATED="1445181600659" ID="ID_1001067660" MODIFIED="1445181623513" TEXT="vanilla &#x5185;&#x6838;"/>
<node CREATED="1445181623746" ID="ID_1889910693" MODIFIED="1445181628019" TEXT="stock kernel"/>
</node>
</node>
<node CREATED="1445181704142" ID="ID_402643436" MODIFIED="1445181722235" TEXT="linux-next &#x6811;">
<node CREATED="1445181739261" ID="ID_266615584" MODIFIED="1445181789631" TEXT="&#x4e3a;&#x53d1;&#x5e03;&#x5c06;&#x6765;&#x7684;&#x7248;&#x672c;&#x79ef;&#x7d2f;&#x65b0;&#x4ee3;&#x7801;&#x5e76;&#x4e14;&#x8fdb;&#x884c;&#x6d4b;&#x8bd5;&#x7684;&#x6811;"/>
<node CREATED="1445181800104" ID="ID_705685037" MODIFIED="1445181825874" TEXT="Stephen Rothwell &#x7b49;&#x4eba;&#x7ef4;&#x62a4;"/>
<node CREATED="1445181849082" ID="ID_1042192639" MODIFIED="1445181891342" TEXT="&#x65b0;&#x529f;&#x80fd;&#x9700;&#x8981;&#x5148;&#x884c;&#x6dfb;&#x52a0;&#x5230;linux-next&#x6811;&#x8fdb;&#x884c;&#x6d4b;&#x8bd5;&#xff0c;&#x5c14;&#x540e;&#x6dfb;&#x52a0;&#x5230;linus &#x6811;"/>
</node>
<node CREATED="1445181937501" ID="ID_48172920" MODIFIED="1445181941094" TEXT="stable&#x6811;">
<node CREATED="1445181943848" ID="ID_1227683879" MODIFIED="1445181984221" TEXT="&#x9488;&#x5bf9;&#x8fc7;&#x53bb;&#x7684;&#x7248;&#x672c;&#x8fdb;&#x884c;bugfix,&#x4f7f;&#x5176;&#x8ddf;&#x7a33;&#x5b9a;"/>
<node CREATED="1445181997978" ID="ID_1116005550" MODIFIED="1445182053526" TEXT="Greg Kroah-Hartman, Chris Wrigth&#x7ef4;&#x62a4;"/>
<node CREATED="1445182054070" ID="ID_18924161" MODIFIED="1445182107009" TEXT="&#x56db;&#x4f4d;&#x7248;&#x672c;&#x53f7;&#xff0c;&#x6700;&#x540e;&#x7684;&#x7248;&#x672c;&#x53f7;&#x8868;&#x793a;bugfix"/>
<node CREATED="1445182116357" ID="ID_65570205" MODIFIED="1445182164479" TEXT="&#x67d0;&#x4e00;&#x4e2a;&#x7a33;&#x5b9a;&#x7684;&#x7248;&#x672c;&#x6301;&#x7eed;&#x7ef4;&#x62a4;&#x4e00;&#x822c;&#x9700;&#x8981;6&#x4e2a;&#x6708;&#x4f5c;&#x7528;&#x7684;&#x65f6;&#x95f4;&#xff0c;&#x6216;&#x8005;&#x66f4;&#x4e45;"/>
</node>
<node CREATED="1445182297649" ID="ID_1513186590" MODIFIED="1445182339497" TEXT="mm/mmotm&#x6811;(mm on the moment) &#x5f00;&#x53d1;&#x6811;">
<node CREATED="1445182340433" ID="ID_606880998" MODIFIED="1445182366185" TEXT="Andrew Morton&#x7ef4;&#x62a4;"/>
<node CREATED="1445182392954" ID="ID_1571553907" MODIFIED="1445182456293" TEXT="&#x5404;&#x4e2a;&#x5b50;&#x7cfb;&#x7edf;&#x5206;&#x5f00;&#x5f00;&#x53d1;&#xff0c;&#x4e0d;&#x5c5e;&#x4e8e;&#x7279;&#x5b9a;&#x5b50;&#x7cfb;&#x7edf;&#x7684;&#x4ee3;&#x7801;&#xff0c;&#x9700;&#x8981;&#x5148;&#x53d1;&#x9001;&#x5230;mm&#x6811;"/>
<node CREATED="1445182474165" ID="ID_599603200" MODIFIED="1445182487302" TEXT="mm on the moment&#xff0c;&#x8865;&#x4e01;&#x5305;&#x7684;&#x7f29;&#x5199;"/>
</node>
<node CREATED="1445182539102" ID="ID_333016968" MODIFIED="1445182573041" TEXT="&#x4ee3;&#x7801;&#x5f00;&#x53d1;&#x8fc7;&#x7a0b;&#xff1a; &#x81ea;&#x5df1;&#x7684;&#x5f00;&#x53d1;&#x6811;-&gt;mm&#x6811;-&gt;linux-next&#x6811;-&gt;linus&#x6811;">
<node CREATED="1445182586432" ID="ID_1707891976" MODIFIED="1445182600573" TEXT="mm&#x6811;&#xff0c;linux-next&#xff0c;linus&#x6811;&#x6210;&#x4e3a;upstream"/>
<node CREATED="1445182601666" ID="ID_701589644" MODIFIED="1445182615299" TEXT="&#x4fa0;&#x4e49;&#x7684;upstream&#x4ec5;&#x4ec5;&#x6307;linus&#x6811;"/>
</node>
<node CREATED="1445184437263" ID="ID_76021764" MODIFIED="1445184437263" TEXT=""/>
</node>
<node CREATED="1445182695514" ID="ID_1417211359" MODIFIED="1445182725596" TEXT="&#x53d1;&#x5e03;&#x7248;&#x5185;&#x6838;(distribution kernel)">
<node CREATED="1445182727364" ID="ID_1853715623" MODIFIED="1445182836715" TEXT="&#x53d1;&#x5e03;&#x7248;&#x5185;&#x6838;&#x51e0;&#x4e4e;&#x662f;&#x5728;linus&#x6811;&#x6216;&#x8005;stable&#x6811;&#x57fa;&#x7840;&#x4e0a;&#x8fdb;&#x884c;&#x53d1;&#x5e03;&#x7248;&#x7279;&#x6709;&#x7684;&#x6269;&#x5c55;&#x548c;bugfix&#x800c;&#x5f97;&#x5230;&#x7684;"/>
</node>
<node CREATED="1445184519273" ID="ID_1347727921" MODIFIED="1445184635048" TEXT="2011-5&#x6708;&#xff0c;Linus&#x5ba3;&#x5e03;2.6.39&#x4e0b;&#x4e00;&#x4e2a;&#x7248;&#x672c;&#x4e3a;3.0&#xff0c; &#x4e4b;&#x540e;&#xff0c;linus &#x6811;&#x7248;&#x672c;&#x4e3a;2&#x4e2a;&#x6570;&#x5b57;&#xff0c;&#x800c;stable&#x6811;&#x7528;3&#x4e2a;&#x6570;&#x5b57;&#x8868;&#x793a;&#x3002;"/>
</node>
<node CREATED="1445182884332" ID="ID_863233993" MODIFIED="1445182893327" TEXT="&#x83b7;&#x53d6;upstream kernel">
<node CREATED="1445182893327" ID="ID_361251036" MODIFIED="1445274720008" TEXT="www.kernel.org">
<node CREATED="1445183064419" ID="ID_374646458" MODIFIED="1445183072073" TEXT="The Linux Kernel Archives"/>
</node>
<node CREATED="1445274720623" ID="ID_880538148" MODIFIED="1445274724934" TEXT="mainline">
<node CREATED="1445274729801" ID="ID_1981157845" MODIFIED="1445274753249" TEXT="git://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git"/>
</node>
</node>
<node CREATED="1445274757909" ID="ID_659559210" MODIFIED="1445276793559" TEXT="&#x83b7;&#x53d6;Centos&#x53d1;&#x5e03;&#x7248;&#x5185;&#x6838;(vanilla&#x5185;&#x6838;&#x548c;&#x53d1;&#x884c;&#x7248;&#x7684;&#x8865;&#x4e01;&#x5206;&#x5f00;&#x5b58;&#x653e;)">
<node CREATED="1445274790438" ID="ID_1691038734" MODIFIED="1445274803020" TEXT="&#x83b7;&#x53d6;CentOS&#x7248;&#x672c;&#x53f7;">
<node CREATED="1445274803907" ID="ID_1691355451" MODIFIED="1445274823565" TEXT="cat /etc/issue">
<node CREATED="1445274826827" ID="ID_1482240895" MODIFIED="1445274826827" TEXT="CentOS release 6.6 (Final)"/>
<node CREATED="1445274826828" MODIFIED="1445274826828" TEXT="Kernel \r on an \m"/>
</node>
</node>
<node CREATED="1445274831799" ID="ID_426344291" MODIFIED="1445274842612" TEXT="&#x83b7;&#x53d6;Linux&#x5185;&#x6838;&#x7248;&#x672c;&#x53f7;">
<node CREATED="1445274844496" ID="ID_211769776" MODIFIED="1445274850165" TEXT="uname -r">
<node CREATED="1445274864108" MODIFIED="1445274864108" TEXT="2.6.32-504.16.2.el6.i686"/>
</node>
</node>
<node CREATED="1445274935757" ID="ID_970087804" MODIFIED="1445274936848" TEXT="http://vault.centos.org/"/>
<node CREATED="1445275032800" ID="ID_957955350" MODIFIED="1445275034012" TEXT="http://vault.centos.org/6.6/os/Source/SPackages/kernel-2.6.32-504.el6.src.rpm">
<node CREATED="1445275364180" ID="ID_1754763964" MODIFIED="1445275400336" TEXT="yumdownloader --source kernel  #Fedora"/>
</node>
<node CREATED="1445275333320" ID="ID_1234263700" MODIFIED="1445275437110" TEXT="yum-builddep kernel-2.6.32-504.el6.src.rpm"/>
<node CREATED="1445275948046" FOLDED="true" ID="ID_1564931337" MODIFIED="1445276395625" TEXT="rpm&#x89e3;&#x538b;&#x7f29;&#x76ee;&#x5f55;&#x8bbe;&#x7f6e; rpmbuild">
<node CREATED="1445275978502" ID="ID_1744777027" MODIFIED="1445275992706" TEXT="/usr/lib/rpm/macros"/>
<node CREATED="1445276033396" ID="ID_1311420152" MODIFIED="1445276056558" TEXT="%_topdir %{getenv:HOME}/rpmbuild"/>
</node>
<node CREATED="1445275555575" ID="ID_440381690" MODIFIED="1445276314157" TEXT="rpm -i kernel-2.6.32-504.el6.src.rpm &#x89e3;&#x538b;&#x5230;rpmbuild&#x76ee;&#x5f55;&#x4e2d;"/>
<node CREATED="1445276397032" ID="ID_1494889816" MODIFIED="1445302235375" TEXT="&#x4fee;&#x8865;&#x8865;&#x4e01;&#xff0c;&#x5e76;&#x4e14;&#x901a;&#x8fc7;rpmbuild&#x547d;&#x4ee4;&#x521b;&#x5efa;rpm&#x5305;">
<node CREATED="1445276450997" ID="ID_1228049326" MODIFIED="1445276471512" TEXT="cd ~/rpmbuild/SPEC"/>
<node CREATED="1445276434022" FOLDED="true" ID="ID_1719333755" MODIFIED="1445303532319" TEXT="rpmbuild -bp kernel.spec">
<node CREATED="1445302249534" ID="ID_516520656" MODIFIED="1445302261398">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      [grakra@grakra SPECS]$ rpmbuild -bp kernel.spec
    </p>
    <p>
      Executing(%prep): /bin/sh -e /var/tmp/rpm-tmp.zjnG3i
    </p>
    <p>
      + umask 022
    </p>
    <p>
      + cd /home/grakra/rpmbuild/BUILD
    </p>
    <p>
      + LANG=C
    </p>
    <p>
      + export LANG
    </p>
    <p>
      + unset DISPLAY
    </p>
    <p>
      + patch_command='patch -p1 -F1 -s'
    </p>
    <p>
      + '[' '!' -d kernel-2.6.32-504.el6/vanilla-2.6.32-504.el6/ ']'
    </p>
    <p>
      + rm -f pax_global_header
    </p>
    <p>
      + cd /home/grakra/rpmbuild/BUILD
    </p>
    <p>
      + rm -rf kernel-2.6.32-504.el6
    </p>
    <p>
      + /bin/mkdir -p kernel-2.6.32-504.el6
    </p>
    <p>
      + cd kernel-2.6.32-504.el6
    </p>
    <p>
      + /bin/tar -xf -
    </p>
    <p>
      + /usr/bin/bzip2 -dc /home/grakra/rpmbuild/SOURCES/linux-2.6.32-504.el6.tar.bz2
    </p>
    <p>
      + STATUS=0
    </p>
    <p>
      + '[' 0 -ne 0 ']'
    </p>
    <p>
      + /bin/chmod -Rf a+rX,u+w,g-w,o-w .
    </p>
    <p>
      + mv linux-2.6.32-504.el6 vanilla-2.6.32-504.el6
    </p>
    <p>
      + '[' -d linux-2.6.32-504.el6.i686 ']'
    </p>
    <p>
      + cp -rl vanilla-2.6.32-504.el6 linux-2.6.32-504.el6.i686
    </p>
    <p>
      + cd linux-2.6.32-504.el6.i686
    </p>
    <p>
      + cp /home/grakra/rpmbuild/SOURCES/config-debug /home/grakra/rpmbuild/SOURCES/config-debug-rhel /home/grakra/rpmbuild/SOURCES/config-framepointer /home/grakra/rpmbuild/SOURCES/config-generic /home/grakra/rpmbuild/SOURCES/config-generic-rhel /home/grakra/rpmbuild/SOURCES/config-i686 /home/grakra/rpmbuild/SOURCES/config-i686-debug /home/grakra/rpmbuild/SOURCES/config-i686-debug-rhel /home/grakra/rpmbuild/SOURCES/config-i686-nodebug /home/grakra/rpmbuild/SOURCES/config-i686-nodebug-rhel /home/grakra/rpmbuild/SOURCES/config-i686-rhel /home/grakra/rpmbuild/SOURCES/config-ia64-generic-rhel /home/grakra/rpmbuild/SOURCES/config-nodebug /home/grakra/rpmbuild/SOURCES/config-nodebug-rhel /home/grakra/rpmbuild/SOURCES/config-powerpc-generic /home/grakra/rpmbuild/SOURCES/config-powerpc-generic-rhel /home/grakra/rpmbuild/SOURCES/config-powerpc64 /home/grakra/rpmbuild/SOURCES/config-powerpc64-debug /home/grakra/rpmbuild/SOURCES/config-powerpc64-debug-rhel /home/grakra/rpmbuild/SOURCES/config-powerpc64-kdump /home/grakra/rpmbuild/SOURCES/config-powerpc64-kdump-rhel /home/grakra/rpmbuild/SOURCES/config-powerpc64-rhel /home/grakra/rpmbuild/SOURCES/config-s390x /home/grakra/rpmbuild/SOURCES/config-s390x-debug /home/grakra/rpmbuild/SOURCES/config-s390x-debug-rhel /home/grakra/rpmbuild/SOURCES/config-s390x-generic-rhel /home/grakra/rpmbuild/SOURCES/config-s390x-kdump /home/grakra/rpmbuild/SOURCES/config-s390x-kdump-rhel /home/grakra/rpmbuild/SOURCES/config-s390x-rhel /home/grakra/rpmbuild/SOURCES/config-x86-generic /home/grakra/rpmbuild/SOURCES/config-x86-generic-rhel /home/grakra/rpmbuild/SOURCES/config-x86_64-debug /home/grakra/rpmbuild/SOURCES/config-x86_64-debug-rhel /home/grakra/rpmbuild/SOURCES/config-x86_64-generic /home/grakra/rpmbuild/SOURCES/config-x86_64-generic-rhel /home/grakra/rpmbuild/SOURCES/config-x86_64-nodebug /home/grakra/rpmbuild/SOURCES/config-x86_64-nodebug-rhel .
    </p>
    <p>
      + cp /home/grakra/rpmbuild/SOURCES/merge.pl /home/grakra/rpmbuild/SOURCES/Makefile.common /home/grakra/rpmbuild/SOURCES/perf /home/grakra/rpmbuild/SOURCES/kabitool /home/grakra/rpmbuild/SOURCES/check-kabi .
    </p>
    <p>
      + make -f /home/grakra/rpmbuild/SOURCES/Makefile.config VERSION=2.6.32 configs
    </p>
    <p>
      perl merge.pl config-nodebug-merged config-generic-merged &gt; temp-generic
    </p>
    <p>
      perl merge.pl config-x86_64-generic-merged temp-generic&#xa0;&#xa0;&gt; temp-x86_64-generic
    </p>
    <p>
      perl merge.pl config-x86_64-nodebug-merged temp-x86_64-generic x86_64 &gt; kernel-2.6.32-x86_64.config
    </p>
    <p>
      perl merge.pl config-debug-merged config-generic-merged &gt; temp-debug-generic
    </p>
    <p>
      perl merge.pl config-x86_64-generic-merged temp-debug-generic&#xa0;&#xa0;&gt; temp-x86_64-debug-generic
    </p>
    <p>
      perl merge.pl config-x86_64-debug-merged temp-x86_64-debug-generic x86_64 &gt; kernel-2.6.32-x86_64-debug.config
    </p>
    <p>
      perl merge.pl config-x86-generic-merged temp-generic&#xa0;&#xa0;&gt; temp-x86-generic
    </p>
    <p>
      perl merge.pl config-i686-merged temp-x86-generic &gt; temp-i686-final
    </p>
    <p>
      perl merge.pl config-i686-nodebug-merged temp-i686-final i386 &gt; kernel-2.6.32-i686.config
    </p>
    <p>
      perl merge.pl config-x86-generic-merged temp-debug-generic&#xa0;&#xa0;&gt; temp-x86-debug-generic
    </p>
    <p>
      perl merge.pl config-i686-merged temp-x86-debug-generic &gt; temp-i686-debug-final
    </p>
    <p>
      perl merge.pl config-i686-debug-merged temp-i686-debug-final i386 &gt; kernel-2.6.32-i686-debug.config
    </p>
    <p>
      perl merge.pl config-s390x-merged temp-generic &gt; temp-s390x-generic
    </p>
    <p>
      perl merge.pl config-s390x-merged temp-s390x-generic s390 &gt; kernel-2.6.32-s390x.config
    </p>
    <p>
      perl merge.pl config-s390x-merged temp-debug-generic&#xa0;&#xa0;&gt; temp-s390x-debug-generic
    </p>
    <p>
      perl merge.pl config-s390x-debug-merged temp-s390x-debug-generic s390 &gt; kernel-2.6.32-s390x-debug.config
    </p>
    <p>
      perl merge.pl config-s390x-kdump-merged kernel-2.6.32-s390x.config s390 &gt; kernel-2.6.32-s390x-kdump.config
    </p>
    <p>
      perl merge.pl config-powerpc-generic-merged temp-generic&#xa0;&#xa0;&gt; temp-powerpc-generic
    </p>
    <p>
      perl merge.pl config-powerpc64-merged temp-powerpc-generic powerpc &gt; kernel-2.6.32-ppc64.config
    </p>
    <p>
      perl merge.pl config-powerpc64-kdump-merged kernel-2.6.32-ppc64.config powerpc &gt; kernel-2.6.32-ppc64-kdump.config
    </p>
    <p>
      perl merge.pl config-powerpc-generic-merged temp-debug-generic&#xa0;&#xa0;&gt; temp-powerpc-debug-generic
    </p>
    <p>
      perl merge.pl config-powerpc64-merged temp-powerpc-debug-generic powerpc &gt; temp-powerpc64-debug-generic
    </p>
    <p>
      perl merge.pl config-powerpc64-debug-merged temp-powerpc64-debug-generic powerpc &gt; kernel-2.6.32-ppc64-debug.config
    </p>
    <p>
      + ApplyOptionalPatch linux-kernel-test.patch
    </p>
    <p>
      + local patch=linux-kernel-test.patch
    </p>
    <p>
      + shift
    </p>
    <p>
      + '[' '!' -f /home/grakra/rpmbuild/SOURCES/linux-kernel-test.patch ']'
    </p>
    <p>
      ++ awk '{print $1}'
    </p>
    <p>
      ++ wc -l /home/grakra/rpmbuild/SOURCES/linux-kernel-test.patch
    </p>
    <p>
      + local C=1
    </p>
    <p>
      + '[' 1 -gt 9 ']'
    </p>
    <p>
      + chmod +x scripts/checkpatch.pl
    </p>
    <p>
      + mkdir configs
    </p>
    <p>
      + for cfg in 'kernel-2.6.32-*.config'
    </p>
    <p>
      ++ grep -c kernel-2.6.32-i686-debug.config
    </p>
    <p>
      ++ echo kernel-2.6.32-i686-debug.config kernel-2.6.32-i686.config
    </p>
    <p>
      + '[' 1 -eq 0 ']'
    </p>
    <p>
      + for cfg in 'kernel-2.6.32-*.config'
    </p>
    <p>
      ++ echo kernel-2.6.32-i686-debug.config kernel-2.6.32-i686.config
    </p>
    <p>
      ++ grep -c kernel-2.6.32-i686.config
    </p>
    <p>
      + '[' 1 -eq 0 ']'
    </p>
    <p>
      + for cfg in 'kernel-2.6.32-*.config'
    </p>
    <p>
      ++ grep -c kernel-2.6.32-ppc64-debug.config
    </p>
    <p>
      ++ echo kernel-2.6.32-i686-debug.config kernel-2.6.32-i686.config
    </p>
    <p>
      + '[' 0 -eq 0 ']'
    </p>
    <p>
      + rm -f kernel-2.6.32-ppc64-debug.config
    </p>
    <p>
      + for cfg in 'kernel-2.6.32-*.config'
    </p>
    <p>
      ++ grep -c kernel-2.6.32-ppc64-kdump.config
    </p>
    <p>
      ++ echo kernel-2.6.32-i686-debug.config kernel-2.6.32-i686.config
    </p>
    <p>
      + '[' 0 -eq 0 ']'
    </p>
    <p>
      + rm -f kernel-2.6.32-ppc64-kdump.config
    </p>
    <p>
      + for cfg in 'kernel-2.6.32-*.config'
    </p>
    <p>
      ++ grep -c kernel-2.6.32-ppc64.config
    </p>
    <p>
      ++ echo kernel-2.6.32-i686-debug.config kernel-2.6.32-i686.config
    </p>
    <p>
      + '[' 0 -eq 0 ']'
    </p>
    <p>
      + rm -f kernel-2.6.32-ppc64.config
    </p>
    <p>
      + for cfg in 'kernel-2.6.32-*.config'
    </p>
    <p>
      ++ grep -c kernel-2.6.32-s390x-debug.config
    </p>
    <p>
      ++ echo kernel-2.6.32-i686-debug.config kernel-2.6.32-i686.config
    </p>
    <p>
      + '[' 0 -eq 0 ']'
    </p>
    <p>
      + rm -f kernel-2.6.32-s390x-debug.config
    </p>
    <p>
      + for cfg in 'kernel-2.6.32-*.config'
    </p>
    <p>
      ++ grep -c kernel-2.6.32-s390x-kdump.config
    </p>
    <p>
      ++ echo kernel-2.6.32-i686-debug.config kernel-2.6.32-i686.config
    </p>
    <p>
      + '[' 0 -eq 0 ']'
    </p>
    <p>
      + rm -f kernel-2.6.32-s390x-kdump.config
    </p>
    <p>
      + for cfg in 'kernel-2.6.32-*.config'
    </p>
    <p>
      ++ grep -c kernel-2.6.32-s390x.config
    </p>
    <p>
      ++ echo kernel-2.6.32-i686-debug.config kernel-2.6.32-i686.config
    </p>
    <p>
      + '[' 0 -eq 0 ']'
    </p>
    <p>
      + rm -f kernel-2.6.32-s390x.config
    </p>
    <p>
      + for cfg in 'kernel-2.6.32-*.config'
    </p>
    <p>
      ++ grep -c kernel-2.6.32-x86_64-debug.config
    </p>
    <p>
      ++ echo kernel-2.6.32-i686-debug.config kernel-2.6.32-i686.config
    </p>
    <p>
      + '[' 0 -eq 0 ']'
    </p>
    <p>
      + rm -f kernel-2.6.32-x86_64-debug.config
    </p>
    <p>
      + for cfg in 'kernel-2.6.32-*.config'
    </p>
    <p>
      ++ grep -c kernel-2.6.32-x86_64.config
    </p>
    <p>
      ++ echo kernel-2.6.32-i686-debug.config kernel-2.6.32-i686.config
    </p>
    <p>
      + '[' 0 -eq 0 ']'
    </p>
    <p>
      + rm -f kernel-2.6.32-x86_64.config
    </p>
    <p>
      + for i in '*.config'
    </p>
    <p>
      + mv kernel-2.6.32-i686-debug.config .config
    </p>
    <p>
      ++ cut -b 3-
    </p>
    <p>
      ++ head -1 .config
    </p>
    <p>
      + Arch=i386
    </p>
    <p>
      + make ARCH=i386 nonint_oldconfig
    </p>
    <p>
      + echo '# i386'
    </p>
    <p>
      + cat .config
    </p>
    <p>
      + rm -f include/generated/kernel.arch
    </p>
    <p>
      + rm -f include/generated/kernel.cross
    </p>
    <p>
      + for i in '*.config'
    </p>
    <p>
      + mv kernel-2.6.32-i686.config .config
    </p>
    <p>
      ++ cut -b 3-
    </p>
    <p>
      ++ head -1 .config
    </p>
    <p>
      + Arch=i386
    </p>
    <p>
      + make ARCH=i386 nonint_oldconfig
    </p>
    <p>
      + echo '# i386'
    </p>
    <p>
      + cat .config
    </p>
    <p>
      + rm -f include/generated/kernel.arch
    </p>
    <p>
      + rm -f include/generated/kernel.cross
    </p>
    <p>
      + find . '(' -name '*.orig' -o -name '*~' ')' -exec rm -f '{}' ';'
    </p>
    <p>
      + cp /home/grakra/rpmbuild/SOURCES/extrakeys.pub .
    </p>
    <p>
      + cat
    </p>
    <p>
      ###
    </p>
    <p>
      ### Now generating a PGP key pair to be used for signing modules.
    </p>
    <p>
      ###
    </p>
    <p>
      ### If this takes a long time, you might wish to run rngd in the background to
    </p>
    <p>
      ### keep the supply of entropy topped up.&#xa0;&#xa0;It needs to be run as root, and
    </p>
    <p>
      ### should use a hardware random number generator if one is available, eg:
    </p>
    <p>
      ###
    </p>
    <p>
      ###&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;rngd -r /dev/hwrandom
    </p>
    <p>
      ###
    </p>
    <p>
      ### If one isn't available, the pseudo-random number generator can be used:
    </p>
    <p>
      ###
    </p>
    <p>
      ###&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;rngd -r /dev/urandom
    </p>
    <p>
      ###
    </p>
    <p>
      + gpg --homedir . --batch --gen-key /home/grakra/rpmbuild/SOURCES/genkey
    </p>
    <p>
      gpg: WARNING: unsafe permissions on homedir `.'
    </p>
    <p>
      gpg: keyring `./secring.gpg' created
    </p>
    <p>
      gpg: keyring `./pubring.gpg' created
    </p>
    <p>
      gpg: WARNING: some OpenPGP programs can't handle a DSA key with this digest size
    </p>
    <p>
      
    </p>
    <p>
      + cat
    </p>
    <p>
      ###
    </p>
    <p>
      ### Key pair generated.
    </p>
    <p>
      ###
    </p>
    <p>
      + '[' -s /home/grakra/rpmbuild/SOURCES/extrakeys.pub ']'
    </p>
    <p>
      + gpg --homedir . --no-default-keyring --keyring kernel.pub --import /home/grakra/rpmbuild/SOURCES/extrakeys.pub
    </p>
    <p>
      gpg: WARNING: unsafe permissions on homedir `.'
    </p>
    <p>
      gpg: ./trustdb.gpg: trustdb created
    </p>
    <p>
      gpg: key CD09BEDA: public key "Red Hat Enterprise Linux Driver Update Program &lt;secalert@redhat.com&gt;" imported
    </p>
    <p>
      gpg: key A3EA1F65: public key "Red Hat Enterprise Linux Driver Update Program (key 4) &lt;secalert@redhat.com&gt;" imported
    </p>
    <p>
      gpg: Total number processed: 2
    </p>
    <p>
      gpg:&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;imported: 2
    </p>
    <p>
      + gpg --homedir . --export --keyring ./kernel.pub CentOS
    </p>
    <p>
      gpg: WARNING: unsafe permissions on homedir `.'
    </p>
    <p>
      + gcc -o scripts/bin2c scripts/bin2c.c
    </p>
    <p>
      + scripts/bin2c ksign_def_public_key __initdata
    </p>
    <p>
      + cd ..
    </p>
    <p>
      + exit 0
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
</node>
<node CREATED="1445184473029" ID="ID_316102032" MODIFIED="1445184500234" TEXT="Documentation/development-process/*"/>
</node>
<node CREATED="1445355209323" FOLDED="true" ID="ID_288815093" MODIFIED="1481673195239" TEXT="Hack#2 &#x7f16;&#x8bd1;&#x5185;&#x6838;">
<node CREATED="1445355356933" FOLDED="true" ID="ID_1244067501" MODIFIED="1481673188966" TEXT="1. &#x7f16;&#x8bd1;&#x5185;&#x6838;&#x4e4b;&#x524d;, &#x9700;&#x8981;&#x5148;&#x884c;&#x5b89;&#x88c5;&#x7684;&#x5fc5;&#x9009;&#x5305;">
<node CREATED="1445355456577" ID="ID_791101876" MODIFIED="1445355472694" TEXT="Fedora 14">
<node CREATED="1445355494532" ID="ID_1176324982" MODIFIED="1445355506888" TEXT="ncurses-devel"/>
<node CREATED="1445355507326" ID="ID_1148106413" MODIFIED="1445355514193" TEXT="qt-devel"/>
<node CREATED="1445355507326" ID="ID_1089714423" MODIFIED="1445355524956" TEXT="qt3-devel"/>
<node CREATED="1445355529104" ID="ID_780977574" MODIFIED="1445355539621" TEXT="gcc-c++"/>
<node CREATED="1445355544184" ID="ID_381468121" MODIFIED="1445355546793" TEXT="rpm-build"/>
</node>
<node CREATED="1445355460384" ID="ID_897895677" MODIFIED="1445355480872" TEXT="Ubuntu 10.10">
<node CREATED="1445355554629" ID="ID_997387224" MODIFIED="1445355585147" TEXT="libncurses5-devel"/>
<node CREATED="1445355594891" ID="ID_435999504" MODIFIED="1445355600058" TEXT="qt3-devel-tools"/>
<node CREATED="1445355604064" ID="ID_1186551348" MODIFIED="1445355605071" TEXT="g++"/>
<node CREATED="1445355609659" ID="ID_1800035648" MODIFIED="1445355619847" TEXT="kernel-package"/>
<node CREATED="1445355624514" ID="ID_106186596" MODIFIED="1445355627476" TEXT="fakeroot"/>
<node CREATED="1445355627864" ID="ID_956237406" MODIFIED="1445355642763" TEXT="dpkg-dev"/>
</node>
</node>
<node CREATED="1445356395027" FOLDED="true" ID="ID_1995525966" MODIFIED="1481673192999" TEXT="2. &#x7f16;&#x8bd1;&#x5b89;&#x88c5;&#x5185;&#x6838; $ cd linux-2.6.32.68 #&#x8fdb;&#x5165;&#x6839;&#x76ee;&#x5f55;">
<node CREATED="1445357717960" ID="ID_1250193915" MODIFIED="1445357742669" TEXT="&#x914d;&#x7f6e;&#x7f16;&#x8bd1;&#x9009;&#x9879; .config">
<node CREATED="1445356433237" ID="ID_660151939" MODIFIED="1445357739714" TEXT="$ make menuconfig TAB-EXIT-ENTER-YES &#x4ea7;&#x51fa; .config&#x6587;&#x4ef6;">
<node CREATED="1445356519410" ID="ID_1486516987" MODIFIED="1456414867678" TEXT=".config">
<node CREATED="1445356524548" ID="ID_913605900" MODIFIED="1445356549278" TEXT="CONFIG_*">
<node CREATED="1445356550548" ID="ID_965376259" MODIFIED="1445356560699" TEXT="=y">
<node CREATED="1445356582609" ID="ID_1539238392" MODIFIED="1445356602232" TEXT="&#x9759;&#x6001;&#x5730;&#x6dfb;&#x52a0;&#x5230;&#x5185;&#x6838;&#x4e2d;"/>
</node>
<node CREATED="1445356560942" ID="ID_696009087" MODIFIED="1445356563443" TEXT="=m">
<node CREATED="1445356603533" ID="ID_1769665727" MODIFIED="1445356617922" TEXT="&#x7f16;&#x8bd1;&#x6210;&#x6a21;&#x5757;&#xff0c;&#x6309;&#x9700;&#x52a0;&#x8f7d;"/>
</node>
<node CREATED="1445356563685" ID="ID_313595498" MODIFIED="1445356579989" TEXT="# CONFIG_*">
<node CREATED="1445356619747" ID="ID_385493871" MODIFIED="1445356639775" TEXT="&#x4e0d;&#x7f16;&#x8bd1;"/>
</node>
</node>
</node>
<node CREATED="1445356659483" ID="ID_1737454598" MODIFIED="1445356671363" TEXT="don&apos;t edit .config manually"/>
<node CREATED="1445356888750" ID="ID_1986728845" MODIFIED="1445356928436" TEXT=".config &#x662f;&#x6839;&#x636e;kconfig&#x7684;&#x8bbe;&#x7f6e;&#x6587;&#x4ef6;Kconfig*&#x4e2d;&#x9ed8;&#x8ba4;&#x503c;&#x8bbe;&#x7f6e;">
<node CREATED="1445356929104" ID="ID_930870345" MODIFIED="1445356939255" TEXT="Kconfig&#x4f4d;&#x4e8e;&#x6bcf;&#x4e2a;&#x6a21;&#x5757;&#x4e2d;"/>
</node>
</node>
<node CREATED="1445356650571" ID="ID_12668288" MODIFIED="1445357739709" TEXT="$ make defconfig # arch-dependent default config">
<node CREATED="1445357046490" ID="ID_1927247062" MODIFIED="1445357079551" TEXT="arch/&lt;arch&gt;/configs/*_defconfig"/>
</node>
<node CREATED="1445357481725" ID="ID_1917656736" MODIFIED="1445357739706" TEXT="$ make oldconfig #&#x4f7f;&#x7528;&#x5df2;&#x6709;&#x7684;&#x8001;&#x7684; .config"/>
<node CREATED="1445357494134" ID="ID_1235997220" MODIFIED="1445357739704" TEXT="$ make xconfig #&#x56fe;&#x5f62;&#x754c;&#x9762;&#x8bbe;&#x7f6e;config"/>
</node>
<node CREATED="1445357745510" ID="ID_619754574" MODIFIED="1445357883501" TEXT="$ make #&#x7f16;&#x8bd1;">
<node CREATED="1445358983591" ID="ID_331296350" MODIFIED="1445359307921" TEXT="&#x5176;&#x4ed6;make targets&#x548c;options">
<node CREATED="1445359291159" ID="ID_184077029" MODIFIED="1445359311433" TEXT="targets">
<node CREATED="1445358989355" ID="ID_217271410" MODIFIED="1445359297571" TEXT="clean">
<node CREATED="1445359052721" ID="ID_531387173" MODIFIED="1445359055838" TEXT="&#x5220;&#x9664;obj&#x6587;&#x4ef6;"/>
<node CREATED="1445359056269" ID="ID_1717362848" MODIFIED="1445359070354" TEXT=".config&#x4e0d;&#x4f1a;&#x5220;&#x9664;&#xff0c;&#x90e8;&#x5206;&#x81ea;&#x52a8;&#x751f;&#x6210;&#x6587;&#x4ef6;&#x4e0d;&#x4f1a;&#x5220;&#x9664;"/>
</node>
<node CREATED="1445358993470" ID="ID_406249834" MODIFIED="1445359297568" TEXT="mrproper">
<node CREATED="1445359073437" ID="ID_1936923293" MODIFIED="1445359104279" TEXT="&#x5c06;&#x6e90;&#x7801;&#x6811;&#x6062;&#x590d;&#x5230;&#x53d1;&#x5e03;&#x65f6;&#x7684;&#x72b6;&#x6001;"/>
</node>
<node CREATED="1445359105738" ID="ID_186906191" MODIFIED="1445359297565" TEXT="help"/>
<node CREATED="1445359113900" ID="ID_1741205712" MODIFIED="1445359297563" TEXT="tags">
<node CREATED="1445359135152" ID="ID_1505090574" MODIFIED="1445359140035" TEXT="&#x751f;&#x4ea7;ctags&#x6587;&#x4ef6;"/>
</node>
<node CREATED="1445359141508" ID="ID_732716618" MODIFIED="1455724277969" TEXT="cscope">
<node CREATED="1445359160559" ID="ID_615261099" MODIFIED="1445359204820" TEXT="&#x751f;&#x6210;&#x63a7;&#x5236;&#x53f0;&#x6e90;&#x7801;&#x6d4f;&#x89c8;&#x5668;cscope&#x7684;index&#x6587;&#x4ef6;"/>
</node>
<node CREATED="1445359214146" ID="ID_939878549" MODIFIED="1445359297558" TEXT="allyesconfig"/>
<node CREATED="1445359226216" ID="ID_731249988" MODIFIED="1445359297557" TEXT="allnoconfig"/>
<node CREATED="1445359231922" ID="ID_417346508" MODIFIED="1445359297556" TEXT="allmodconfig"/>
<node CREATED="1445359244468" ID="ID_1500111170" MODIFIED="1445359297555" TEXT="&lt;dir&gt;/&lt;file&gt;.o"/>
<node CREATED="1445359252336" ID="ID_424374082" MODIFIED="1445359297553" TEXT="&lt;dir&gt;/&lt;file&gt;.ko"/>
</node>
<node CREATED="1445359299174" ID="ID_53492595" MODIFIED="1445359301639" TEXT="options">
<node CREATED="1445359313421" ID="ID_1086391629" MODIFIED="1445359344963" TEXT="V=0|1|2  #verbose"/>
<node CREATED="1445359345346" ID="ID_1139130761" MODIFIED="1445359376568" TEXT="O=&lt;dir&gt; &#x6700;&#x7ec8;&#x751f;&#x6210;&#x6587;&#x4ef6;&#x7684;&#x5b58;&#x653e;&#x8def;&#x5f84;"/>
</node>
</node>
</node>
<node CREATED="1445357883733" ID="ID_1393574724" MODIFIED="1445357893454" TEXT="&#x5b89;&#x88c5;&#x5185;&#x6838;">
<node CREATED="1445357896019" ID="ID_1666172830" MODIFIED="1445357928052" TEXT="$ make modules_install # &#x6a21;&#x5757;&#x5b89;&#x88c5;">
<node CREATED="1445357991110" ID="ID_479509285" MODIFIED="1445358004948" TEXT="&#x5b89;&#x88c5;&#x76ee;&#x5f55; /lib/modules">
<node CREATED="1445358402644" ID="ID_1605508206" MODIFIED="1445358415823" TEXT="/lib/modules/&lt;&#x5185;&#x6838;&#x7248;&#x672c;&gt;/"/>
</node>
<node CREATED="1445358133898" ID="ID_1431922393" MODIFIED="1445358152895" TEXT="&#x7b2c;&#x4e00;&#x4e2a;&#x9636;&#x6bb5;"/>
</node>
<node CREATED="1445357928357" ID="ID_1459569577" MODIFIED="1455724312482" TEXT="$ make install # &#x5185;&#x6838;image&#x5b89;&#x88c5;">
<node CREATED="1445358158865" ID="ID_1413149561" MODIFIED="1445358167821" TEXT="&#x5b89;&#x88c5;&#x76ee;&#x5f55; /boot">
<node CREATED="1445358418389" ID="ID_677989309" MODIFIED="1445358442284" TEXT="/boot/vmlinuz-&lt;&#x5185;&#x6838;&#x7248;&#x672c;&gt;">
<node CREATED="1445358546874" ID="ID_1644700531" MODIFIED="1445358561494" TEXT="&#x5185;&#x6838;image &#x6587;&#x4ef6;"/>
</node>
<node CREATED="1445358442549" ID="ID_1590353243" MODIFIED="1445358467673" TEXT="/boot/initramfs-&lt;&#x5185;&#x6838;&#x7248;&#x672c;&gt;">
<node CREATED="1445358563943" ID="ID_1745427321" MODIFIED="1445358582075" TEXT="boot&#x521d;&#x59cb;&#x5316;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;image"/>
</node>
<node CREATED="1445358473217" ID="ID_1874501635" MODIFIED="1445358499380" TEXT="/boot/initrd.img-&lt;&#x5185;&#x6838;&#x7248;&#x672c;&gt;">
<node CREATED="1445358563943" ID="ID_1385635687" MODIFIED="1445358582075" TEXT="boot&#x521d;&#x59cb;&#x5316;&#x6587;&#x4ef6;&#x7cfb;&#x7edf;image"/>
</node>
<node CREATED="1445358499820" ID="ID_1181319277" MODIFIED="1445358523142" TEXT="/boot/Systemmap-&lt;&#x5185;&#x6838;&#x7248;&#x672c;&gt;">
<node CREATED="1445358594474" ID="ID_1148169838" MODIFIED="1445358598552" TEXT="&#x5730;&#x5740;&#x4fe1;&#x606f;&#x6587;&#x4ef6;"/>
</node>
</node>
<node CREATED="1445358168077" ID="ID_1168355666" MODIFIED="1445358170874" TEXT="&#x7b2c;&#x4e8c;&#x4e2a;&#x9636;&#x6bb5;"/>
<node CREATED="1445358171091" ID="ID_244143675" MODIFIED="1445358215058" TEXT="Debian&#x7cfb;&#x5217; &#x9700;&#x8981;&#x6267;&#x884c;&#x989d;&#x5916;&#x547d;&#x4ee4;&#x751f;&#x4ea7;image">
<node CREATED="1445358215970" ID="ID_1906865569" MODIFIED="1445358252117" TEXT="update-initramfs -c -k &lt;&#x5185;&#x6838;&#x7248;&#x672c;&gt;"/>
</node>
</node>
<node CREATED="1445358636147" ID="ID_1636857250" MODIFIED="1445358640648" TEXT="grub&#x8bbe;&#x7f6e;">
<node CREATED="1445358643386" ID="ID_471460157" MODIFIED="1445358676839" TEXT="&#x7f16;&#x8f91;/boot/grub/menu.lst &#x6216;&#x8005;&#x6267;&#x884c;update-grub&#x547d;&#x4ee4;"/>
</node>
<node CREATED="1445358689889" ID="ID_436752576" MODIFIED="1445358691745" TEXT="init 6"/>
</node>
<node CREATED="1445359408338" ID="ID_1300411390" MODIFIED="1445359414146" TEXT="&#x5378;&#x8f7d;&#x5185;&#x6838;">
<node CREATED="1445359415242" ID="ID_971567454" MODIFIED="1445359451649" TEXT="&#x5220;&#x9664;&#x6587;&#x4ef6;&#xff0c;&#x66f4;&#x6539;grub&#x8bbe;&#x7f6e;"/>
</node>
<node CREATED="1445359596006" ID="ID_1173890980" MODIFIED="1445359612730" TEXT="&#x751f;&#x6210;&#x5185;&#x6838;&#x5305;">
<node CREATED="1445359613587" ID="ID_803992021" MODIFIED="1445359638886" TEXT="$ make rpm-pkg">
<node CREATED="1445359723920" ID="ID_1021385801" MODIFIED="1445359766460" TEXT="~/rpmbuild/rpms/ #&#x4e8c;&#x8fdb;&#x5236;"/>
<node CREATED="1445359747430" ID="ID_339465131" MODIFIED="1445359762280" TEXT="~/rpmbuild/SRPMS/ #&#x6e90;&#x7801;"/>
</node>
<node CREATED="1445359631346" ID="ID_1907523416" MODIFIED="1445359645194" TEXT="$ make deb-pkg"/>
</node>
<node CREATED="1445358715917" ID="ID_1807507316" MODIFIED="1445358786985" TEXT="&#x8bbe;&#x7f6e;.config&#x4e2d;CONFIG_LOCALVERSION&#x7684;&#x503c;&#xff0c;&#x9632;&#x6b62;&#x91cd;&#x65b0;&#x7f16;&#x8bd1;&#x5b89;&#x88c5;&#x5185;&#x6838;&#x662f;&#xff0c;&#x8986;&#x76d6;&#x6389;&#x4e4b;&#x524d;&#x7684;&#x5b89;&#x88c5;"/>
</node>
<node CREATED="1445359648757" ID="ID_1761878751" MODIFIED="1445446160404" TEXT="3. &#x53d1;&#x5e03;&#x7248;&#x5185;&#x6838;&#x7f16;&#x8bd1;&#x5b89;&#x88c5;">
<node CREATED="1445359675618" ID="ID_1916704989" MODIFIED="1445359679690" TEXT="rpm">
<node CREATED="1445359683311" ID="ID_1904536258" MODIFIED="1445359884883" TEXT="$ rpmbuild -ba ~/rpmbuild/SPECS/kernel.spec"/>
</node>
<node CREATED="1445359680210" ID="ID_1031667988" MODIFIED="1445359681947" TEXT="deb">
<node CREATED="1445359886112" ID="ID_1145555786" MODIFIED="1445359893646" TEXT="$ make-kpkg"/>
</node>
</node>
<node CREATED="1445446164771" ID="ID_1928562" MODIFIED="1455724395185" TEXT="4.&#x7f16;&#x8bd1;&#x6a21;&#x5757;(&#x9a71;&#x52a8;&#x7a0b;&#x5e8f;)/&#x6e90;&#x7801;&#x6811;&#x5916;&#x7f16;&#x8bd1;&#x6a21;&#x5757;">
<node CREATED="1445446205277" ID="ID_361435877" MODIFIED="1445446252085" TEXT="1. cd &#x5230;&#x6e90;&#x7801;&#x6811;&#x7684;&#x5f85;&#x7f16;&#x8bd1;&#x6a21;&#x5757;&#x76ee;&#x5f55;"/>
<node CREATED="1445446253103" ID="ID_492682972" MODIFIED="1445446477752" TEXT="2. make -C /lib/modules/`(uname -r)`/build M=$PWD">
<node CREATED="1445446323463" ID="ID_1808392289" MODIFIED="1445446391929" TEXT="&#x5fc5;&#x987b;&#x7f16;&#x8bd1;&#x4e00;&#x904d;&#x6e90;&#x7801;&#x6811;&#xff0c;&#x800c;&#x4e14;&#x6ca1;&#x6709;&#x505a;&#x8fc7;make clean&#xff0c;&#x5426;&#x5219;&#x62a5;&#x51fa;linux/bounds.h:">
<node CREATED="1445446412044" MODIFIED="1445446412044" TEXT="error: linux/bounds.h: No such file or directory"/>
</node>
<node CREATED="1445446415514" ID="ID_1743715248" MODIFIED="1445446457236" TEXT="linux/bouds.h&#x662f;&#x7f16;&#x8bd1;&#x65f6;Kbuild&#x751f;&#x6210;&#xff0c;&#x4e5f;&#x770b;&#x7528;make prepare&#x751f;&#x6210;&#x8be5;&#x6587;&#x4ef6;"/>
<node CREATED="1445446457952" ID="ID_323768305" MODIFIED="1445446509406" TEXT="/lib/modules/`(uname -r)`/build &#x662f;&#x6e90;&#x7801;&#x6811;&#x7684;&#x7b26;&#x53f7;&#x94fe;&#x63a5;"/>
</node>
<node CREATED="1445446290732" ID="ID_1779782327" MODIFIED="1445446483433" TEXT="3. make -C /lib/modules/`(uname -r)`/build M=$PWD modules_install"/>
</node>
<node CREATED="1445447079929" ID="ID_1026018052" MODIFIED="1445447094405" TEXT="5.&#x4ea4;&#x53c9;&#x7f16;&#x8bd1;">
<node CREATED="1445447129027" ID="ID_342157891" MODIFIED="1445447140417" TEXT="make&#x505a;&#x4ea4;&#x53c9;&#x7f16;&#x8bd1;&#x9700;&#x8981;&#x4e24;&#x4e2a;&#x53d8;&#x91cf;">
<node CREATED="1445447144461" ID="ID_360926535" MODIFIED="1445447149148" TEXT="ARCH">
<node CREATED="1445447182710" ID="ID_1255414585" MODIFIED="1445447191131" TEXT="&#x76ee;&#x6807;&#x5e73;&#x53f0;&#x67b6;&#x6784;"/>
</node>
<node CREATED="1445447154547" ID="ID_704187236" MODIFIED="1445447168173" TEXT="CROSS_COMPILE">
<node CREATED="1445447192717" ID="ID_1310005993" MODIFIED="1445447201007" TEXT="&#x4ea4;&#x53c9;&#x7f16;&#x8bd1;&#x5668;&#x524d;&#x7f00;"/>
</node>
</node>
<node CREATED="1445447422719" ID="ID_1348566971" MODIFIED="1445447479155" TEXT="make ARCH=arm CROSS_COMPILE=armv5tel-linux- uImage"/>
<node CREATED="1445447422719" ID="ID_1896902401" MODIFIED="1445447494582" TEXT="make ARCH=arm CROSS_COMPILE=armv5tel-linux- modules"/>
<node CREATED="1445447422719" ID="ID_1266658677" MODIFIED="1445447505282" TEXT="make ARCH=arm CROSS_COMPILE=armv5tel-linux- modules_install"/>
<node CREATED="1445447505943" ID="ID_525794922" MODIFIED="1445447568454" TEXT="make ARCH=arm CROSS_COMPILE=armv5tel-linux- INSTALL_MOD_PATH=~/armroot/ modules_install">
<node CREATED="1445447570768" ID="ID_1580665719" MODIFIED="1445447578500" TEXT="INSTALL_MOD_PATH">
<node CREATED="1445447583450" ID="ID_824525843" MODIFIED="1445447591621" TEXT="&#x6307;&#x5b9a;&#x6a21;&#x5757;&#x5b89;&#x88c5;&#x8def;&#x5f84;"/>
</node>
</node>
</node>
<node CREATED="1445447384135" ID="ID_178908036" MODIFIED="1445447394029" TEXT="Documentation/kbuild/*"/>
</node>
<node CREATED="1445530503384" FOLDED="true" ID="ID_1386371382" MODIFIED="1481673178331" TEXT="Hack#3 &#x7f16;&#x8bd1;&#x5185;&#x6838;&#x6a21;&#x5757;">
<node CREATED="1445530512869" ID="ID_1657441171" MODIFIED="1456336746359" TEXT="&#x5185;&#x6838;&#x5206;&#x7c7b;">
<node CREATED="1445530693822" ID="ID_879070706" MODIFIED="1445530694523" TEXT="nanokernel"/>
<node CREATED="1445530707877" ID="ID_1632123888" MODIFIED="1445530708673" TEXT="picokernel"/>
<node CREATED="1445530609583" ID="ID_1081172841" MODIFIED="1445530791927" TEXT="microkernel"/>
<node CREATED="1445530596253" ID="ID_230069993" MODIFIED="1445530597137" TEXT="Hybrid kernel"/>
<node CREATED="1445530544107" ID="ID_852618600" MODIFIED="1445530795149" TEXT="Exokernel">
<node CREATED="1445530569578" ID="ID_1071387162" MODIFIED="1445530570522" TEXT="The idea behind exokernels is to force as few abstractions as possible on developers, enabling them to make as many decisions as possible about hardware abstractions. Exokernels are tiny, since functionality is limited to ensuring protection and multiplexing of resources, which are vastly simpler than conventional microkernels&apos; implementation of message passing and monolithic kernels&apos; implementation of abstractions."/>
</node>
<node CREATED="1445530648120" ID="ID_832329614" MODIFIED="1445530648797" TEXT="monolithic kernel"/>
</node>
<node CREATED="1445530539026" FOLDED="true" ID="ID_1319231022" MODIFIED="1462154762969" TEXT="Documentation/kbuild/modules">
<node CREATED="1445570536161" ID="ID_666946473" MODIFIED="1445570558817" TEXT="make -C &lt;path-to-kernel&gt; M=`pwd`"/>
<node CREATED="1445570568625" ID="ID_1192597514" MODIFIED="1445570569591" TEXT="make -C /lib/modules/`uname -r`/build M=`pwd`"/>
<node CREATED="1445570584072" ID="ID_1757378337" MODIFIED="1445570585135" TEXT="make -C &lt;path-to-kernel&gt; M=`pwd` modules_install"/>
<node CREATED="1445570863916" ID="ID_1115927440" MODIFIED="1445570864549" TEXT="make -C $KDIR M=`pwd`"/>
<node CREATED="1445570871764" ID="ID_1997300357" MODIFIED="1445570872310" TEXT="make -C $KDIR M=`pwd` modules"/>
<node CREATED="1445570880505" ID="ID_299581562" MODIFIED="1445570881232" TEXT="make -C $KDIR M=`pwd` modules_install">
<node CREATED="1445570890211" ID="ID_1539567404" MODIFIED="1445570891032" TEXT="INSTALL_MOD_PATH">
<node CREATED="1445570891869" ID="ID_889290495" MODIFIED="1445570894348" TEXT="install prefix"/>
</node>
</node>
<node CREATED="1445753324482" ID="ID_335994004" MODIFIED="1445753352249" TEXT="make -C  M=`pwd` "/>
<node CREATED="1445753372970" ID="ID_408768955" MODIFIED="1445753427540" TEXT="make -C $KDIR O=obj_compiled_from_kernel M=`pwd`">
<node CREATED="1445753430918" ID="ID_657786900" MODIFIED="1445753441318" TEXT="-C &#x6e90;&#x7801;&#x6811;"/>
<node CREATED="1445753441601" ID="ID_663840307" MODIFIED="1445753469208" TEXT="O &#x6e90;&#x7801;&#x6811;&#x7f16;&#x8bd1;&#x4ea7;&#x751f;&#x6587;&#x4ef6;"/>
</node>
<node CREATED="1445787048101" ID="ID_762750674" MODIFIED="1445789819864" TEXT="Out-of-tree modules building">
<node CREATED="1445787538854" ID="ID_550602464" MODIFIED="1445787554569" TEXT="3 styles of Kbuild">
<node CREATED="1445787128646" ID="ID_624785874" MODIFIED="1456336758200" TEXT="Shared Makefile for module and kernel">
<node CREATED="1445787192501" ID="ID_761449728" MODIFIED="1445787192501" TEXT="building the module using &apos;make&apos; with no arguments"/>
<node CREATED="1445787211472" ID="ID_127552307" MODIFIED="1445787212353" TEXT="The Makefile provided will most likely include additional &#x9;functionality such as test targets etc. and this part shall &#x9;be filtered away from kbuild since it may impact kbuild if &#x9;name clashes occurs."/>
<node CREATED="1445787238347" ID="ID_914215167" MODIFIED="1445787245160">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      --&gt; filename: Makefile
    </p>
    <p>
      ifneq ($(KERNELRELEASE),)
    </p>
    <p>
      # kbuild part of makefile
    </p>
    <p>
      obj-m&#xa0;&#xa0;:= 8123.o
    </p>
    <p>
      8123-y := 8123_if.o 8123_pci.o 8123_bin.o
    </p>
    <p>
      
    </p>
    <p>
      else
    </p>
    <p>
      # Normal Makefile
    </p>
    <p>
      
    </p>
    <p>
      KERNELDIR := /lib/modules/`uname -r`/build
    </p>
    <p>
      all::
    </p>
    <p>
      $(MAKE) -C $(KERNELDIR) M=`pwd` $@
    </p>
    <p>
      
    </p>
    <p>
      # Module specific targets
    </p>
    <p>
      genbin:
    </p>
    <p>
      echo "X" &gt; 8123_bin.o_shipped
    </p>
    <p>
      
    </p>
    <p>
      endif
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1445787272103" ID="ID_1027636465" MODIFIED="1445787559345" TEXT="Kbuild and Makefile">
<node CREATED="1445787311588" ID="ID_1096895352" MODIFIED="1445787321001" TEXT="Utilising the Kbuild file makes us split up the Makefile into two files"/>
<node CREATED="1445787337373" ID="ID_395103152" MODIFIED="1445787339623" TEXT="Kbuild">
<node CREATED="1445787342268" ID="ID_321137217" MODIFIED="1445787347211">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      obj-m&#xa0;&#xa0;:= 8123.o
    </p>
    <p>
      8123-y := 8123_if.o 8123_pci.o 8123_bin.o
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1445787349577" ID="ID_1867838053" MODIFIED="1445787354646" TEXT="Makefile">
<node CREATED="1445787368044" ID="ID_371010265" MODIFIED="1445787375104">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      KERNELDIR := /lib/modules/`uname -r`/build
    </p>
    <p>
      all::
    </p>
    <p>
      $(MAKE) -C $(KERNELDIR) M=`pwd` $@
    </p>
    <p>
      
    </p>
    <p>
      # Module specific targets
    </p>
    <p>
      genbin:
    </p>
    <p>
      echo "X" &gt; 8123_bin.o_shipped
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1445787451256" ID="ID_86368168" MODIFIED="1456336770965" TEXT="backward compatible">
<node CREATED="1445787453943" ID="ID_1414592482" MODIFIED="1445787477958" TEXT="Kbuild">
<node CREATED="1445787479026" ID="ID_1185981286" MODIFIED="1445787483126">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      obj-m&#xa0;&#xa0;:= 8123.o
    </p>
    <p>
      8123-y := 8123_if.o 8123_pci.o 8123_bin.o
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1445787484955" ID="ID_907437694" MODIFIED="1445787487998" TEXT="Makefile">
<node CREATED="1445787501588" ID="ID_18024860" MODIFIED="1445787505702">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      ifneq ($(KERNELRELEASE),)
    </p>
    <p>
      include Kbuild
    </p>
    <p>
      else
    </p>
    <p>
      # Normal Makefile
    </p>
    <p>
      
    </p>
    <p>
      KERNELDIR := /lib/modules/`uname -r`/build
    </p>
    <p>
      all::
    </p>
    <p>
      $(MAKE) -C $(KERNELDIR) M=`pwd` $@
    </p>
    <p>
      
    </p>
    <p>
      # Module specific targets
    </p>
    <p>
      genbin:
    </p>
    <p>
      echo "X" &gt; 8123_bin.o_shipped
    </p>
    <p>
      
    </p>
    <p>
      endif
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
</node>
<node CREATED="1445787562141" ID="ID_902623716" MODIFIED="1445787622224" TEXT="Binary blobs included in a module">
<node CREATED="1445787644407" ID="ID_474992696" MODIFIED="1445787645419" TEXT="requires the blob file to be named &#x9;&lt;filename&gt;_shipped"/>
<node CREATED="1445787681733" ID="ID_245572431" MODIFIED="1445787698786" TEXT="_shipped part stripped of the filename in the assignment to &#x9;the module."/>
</node>
<node CREATED="1445787757715" ID="ID_1511100639" MODIFIED="1456336778108" TEXT="include files">
<node CREATED="1445787906578" ID="ID_84674511" MODIFIED="1445787961163" TEXT="in default">
<node CREATED="1445787957931" ID="ID_63931481" MODIFIED="1445788087503" TEXT="the .h file only describes a module internal interface">
<node CREATED="1445788088774" ID="ID_1548073508" MODIFIED="1445788089486" TEXT=" shall be placed in the same directory as the .c files."/>
</node>
<node CREATED="1445788050465" FOLDED="true" ID="ID_675730276" MODIFIED="1445788122920" TEXT="the .h files describe an interface used by other parts of the kernel located in different directories">
<node CREATED="1445788092531" ID="ID_866080888" MODIFIED="1445788108246" TEXT="shall be located in   include/linux/ or other include/ directories as appropriate."/>
</node>
<node CREATED="1445788123398" ID="ID_1936133319" MODIFIED="1445788157782" TEXT="exceptions for this rule">
<node CREATED="1445788135253" ID="ID_90199285" MODIFIED="1445788135952" TEXT="larger subsystems that have their own directory under include/ such as include/scsi."/>
<node CREATED="1445788148968" ID="ID_123079944" MODIFIED="1445788150203" TEXT="arch-specific .h files which are located under include/asm-$(ARCH)/*"/>
</node>
</node>
<node CREATED="1445788286855" ID="ID_360874700" MODIFIED="1445788287638" TEXT="include a file from include/linux/">
<node CREATED="1445788299041" MODIFIED="1445788299041" TEXT="#include &lt;linux/modules.h&gt;"/>
</node>
<node CREATED="1445788326553" ID="ID_399674535" MODIFIED="1445788327140" TEXT=".h files placed in the same directory as the .c file.">
<node CREATED="1445788336402" MODIFIED="1445788336402" TEXT="#include &quot;8123_if.h&quot;"/>
</node>
<node CREATED="1445788401866" ID="ID_484342563" MODIFIED="1445788427133" TEXT=".h files of external modules in a separate include/">
<node CREATED="1445788457853" ID="ID_716080590" MODIFIED="1445788457853" TEXT="EXTRA_CFLAGS">
<node CREATED="1445788486101" ID="ID_1912679576" MODIFIED="1445788495543" TEXT="take effect for all .c files"/>
<node CREATED="1445788552707" ID="ID_499555486" MODIFIED="1445788640153">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      obj-m&#xa0;&#xa0;:= 8123.o
    </p>
    <p>
      
    </p>
    <p>
      EXTRA_CFLAGS := -Iinclude
    </p>
    <p>
      8123-y := 8123_if.o 8123_pci.o 8123_bin.o
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1445788505406" ID="ID_220221770" MODIFIED="1445788506268" TEXT="CFLAGS_$F.o">
<node CREATED="1445788519861" ID="ID_118884256" MODIFIED="1445788520763" TEXT="take effect only for a single file"/>
<node CREATED="1445788552707" ID="ID_179615378" MODIFIED="1445788710527">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      obj-m&#xa0;&#xa0;:= 8123.o
    </p>
    <p>
      
    </p>
    <p>
      EXTRA_8123_if.o := $(src)/include/
    </p>
    <p>
      8123-y := 8123_if.o 8123_pci.o 8123_bin.o
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1445788733800" ID="ID_950650301" MODIFIED="1445788743242" TEXT="Note that in the assignment there is no space between -I and the path. This is a kbuild limitation:  there must be no space present."/>
</node>
<node CREATED="1445788765169" ID="ID_215502578" MODIFIED="1445788766079" TEXT="External modules using several directories">
<node CREATED="1445788805593" ID="ID_993912970" MODIFIED="1445788810418">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      |
    </p>
    <p>
      +- src/complex_main.c
    </p>
    <p>
      |&#xa0;&#xa0;&#xa0;+- hal/hardwareif.c
    </p>
    <p>
      |&#xa0;&#xa0;&#xa0;+- hal/include/hardwareif.h
    </p>
    <p>
      +- include/complex.h
    </p>
  </body>
</html></richcontent>
</node>
<node CREATED="1445788825220" ID="ID_221995763" MODIFIED="1445788855916">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      obj-m := complex.o
    </p>
    <p>
      complex-y := src/complex_main.o
    </p>
    <p>
      complex-y += src/hal/hardwareif.o
    </p>
    <p>
      
    </p>
    <p>
      EXTRA_CFLAGS := -I$(src)/include
    </p>
    <p>
      EXTRA_CFLAGS += -I$(src)/src/hal/include
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1445788873407" ID="ID_1362082705" MODIFIED="1445788874251" TEXT="Module installation">
<node CREATED="1445788903808" ID="ID_462245690" MODIFIED="1456336776803" TEXT="in default">
<node CREATED="1445788899020" ID="ID_1545271100" MODIFIED="1445788916618" TEXT="Modules included in the kernel">
<node CREATED="1445788926496" ID="ID_779831903" MODIFIED="1445788927485" TEXT="/lib/modules/$(KERNELRELEASE)/kernel"/>
</node>
<node CREATED="1445788928469" ID="ID_501961520" MODIFIED="1445788942103" TEXT="xternal modules">
<node CREATED="1445788950939" ID="ID_1523673691" MODIFIED="1445788951991" TEXT="/lib/modules/$(KERNELRELEASE)/extra"/>
</node>
</node>
<node CREATED="1445788969273" ID="ID_451843308" MODIFIED="1445788970166" TEXT="INSTALL_MOD_PATH">
<node CREATED="1445788985049" ID="ID_314682278" MODIFIED="1445788986348" TEXT="prefix"/>
</node>
<node CREATED="1445789025750" ID="ID_1110858677" MODIFIED="1445789026737" TEXT="INSTALL_MOD_DIR">
<node CREATED="1445789030279" ID="ID_1060400516" MODIFIED="1445789039455" TEXT="in default INSTALL_MOD_DIR=extra"/>
<node CREATED="1445789041718" ID="ID_1013379992" MODIFIED="1445789043162" TEXT="suffix"/>
</node>
</node>
<node CREATED="1445789061385" ID="ID_1369416292" MODIFIED="1445789062358" TEXT="Module versioning &amp; Module.symvers">
<node CREATED="1445789074864" ID="ID_959207821" MODIFIED="1445789075789" TEXT="CONFIG_MODVERSIONS">
<node CREATED="1445789094200" ID="ID_1683428575" MODIFIED="1445789095178" TEXT="simple ABI consistency check"/>
<node CREATED="1445789119698" ID="ID_94063995" MODIFIED="1445789120815" TEXT="The Module versioning creates a CRC value of the full prototype for an exported symbol and when a module is loaded/used then the CRC values contained in the kernel are compared with similar values in the module. If they are not equal, then the kernel refuses to load the module."/>
</node>
<node CREATED="1445789140604" ID="ID_1417490677" MODIFIED="1445789141267" TEXT="Module.symvers">
<node CREATED="1445789154247" ID="ID_838228517" MODIFIED="1445789155013" TEXT="contains a list of all exported symbols from a kernel build."/>
<node CREATED="1445789218947" ID="ID_1011752913" MODIFIED="1445789220065" TEXT="kernel build without CONFIG_MODVERSIONS enabled, the crc &#x9;would read: 0x00000000"/>
</node>
<node CREATED="1445789170555" ID="ID_1078824671" MODIFIED="1445789171377" TEXT="Symbols from the kernel (vmlinux + modules)"/>
<node CREATED="1445789244469" ID="ID_1122388257" MODIFIED="1445789245083" TEXT="Symbols and external modules">
<node CREATED="1445789285567" ID="ID_477592241" MODIFIED="1445789286285" TEXT="When building an external module, the build system needs access to &#x9;the symbols from the kernel to check if all external symbols are &#x9;defined."/>
<node CREATED="1445789299124" ID="ID_573277336" MODIFIED="1445789299922" TEXT="done in the MODPOST step"/>
<node CREATED="1445789327376" ID="ID_1064503900" MODIFIED="1445789328031" TEXT="modpost reads Module.symvers from the kernel."/>
<node CREATED="1445789363311" ID="ID_692455219" MODIFIED="1445789364029" TEXT="If a Module.symvers file is present in the directory where &#x9;the external module is being built, this file will be read too. &#x9;During the MODPOST step, a new Module.symvers file will be written &#x9;containing all exported symbols that were not defined in the kernel."/>
</node>
<node CREATED="1445789380050" ID="ID_1882918550" MODIFIED="1445789380727" TEXT="Symbols from another external module">
<node CREATED="1445789398953" ID="ID_1482099742" MODIFIED="1445789399724" TEXT="Kbuild needs to have full knowledge on all symbols &#x9;to avoid spitting out warnings about undefined symbols."/>
<node CREATED="1445789411812" ID="ID_383577285" MODIFIED="1445789416887" TEXT="three solutions">
<node CREATED="1445789454039" ID="ID_1157366389" MODIFIED="1445789454835" TEXT="Use a top-level Kbuild file"/>
<node CREATED="1445789514619" ID="ID_640420880" MODIFIED="1445789515345" TEXT="Use an extra Module.symvers file"/>
<node CREATED="1445789551772" ID="ID_1377003646" MODIFIED="1445789553389" TEXT="KBUILD_EXTRA_SYMBOLS"/>
</node>
</node>
</node>
<node CREATED="1445789715502" ID="ID_1512144960" MODIFIED="1445789716365" TEXT="External modules have traditionally used grep to check for specific &#x9;CONFIG_ settings directly in .config."/>
</node>
</node>
<node CREATED="1445789823418" ID="ID_928035414" MODIFIED="1456336650453" TEXT="Documentation/kbuild/kbuild">
<node CREATED="1445789839347" ID="ID_733273834" MODIFIED="1445789878741" TEXT="environment variables">
<node CREATED="1445789879612" ID="ID_1224506214" MODIFIED="1445880737707" TEXT="K{CPP, A, C}FLAGS  # preprocess, assembly, compile flags"/>
<node CREATED="1445789968272" ID="ID_825854765" MODIFIED="1445790019014" TEXT="KBUILD_VERBOSE  #  V=0|1|2"/>
<node CREATED="1445789984103" ID="ID_723977817" MODIFIED="1445790027732" TEXT="KBUILD_EXTMOD  # M=`pwd`"/>
<node CREATED="1445790028259" ID="ID_318583078" MODIFIED="1445790050699" TEXT="KBUILD_OUTPUT # O=..."/>
<node CREATED="1445790063588" ID="ID_1343786937" MODIFIED="1445790064408" TEXT="ARCH"/>
<node CREATED="1445790087799" ID="ID_551220227" MODIFIED="1445790088574" TEXT="CROSS_COMPILE"/>
<node CREATED="1445790088939" ID="ID_800827932" MODIFIED="1445790090470" TEXT="CF">
<node CREATED="1445790128726" ID="ID_1593218570" MODIFIED="1445790129459" TEXT="make CF=-Wbitwise C=2"/>
</node>
<node CREATED="1445790140209" ID="ID_386233049" MODIFIED="1445790140896" TEXT="INSTALL_PATH">
<node CREATED="1445790156965" ID="ID_1951020153" MODIFIED="1445790157882" TEXT="where to place the updated kernel and system map images."/>
<node CREATED="1445790166973" ID="ID_1803617891" MODIFIED="1445790167505" TEXT="Default is /boot"/>
</node>
<node CREATED="1445790181799" ID="ID_615728288" MODIFIED="1445790182375" TEXT="INSTALLKERNEL">
<node CREATED="1445790196594" ID="ID_1637466239" MODIFIED="1445790197420" TEXT="Install script called when using &quot;make install&quot;."/>
<node CREATED="1445790206404" ID="ID_1923897442" MODIFIED="1445790206847" TEXT="The default name is &quot;installkernel&quot;."/>
<node CREATED="1445790221077" ID="ID_1987824746" MODIFIED="1445790227155" TEXT="the script will be called with the following arguments:">
<node CREATED="1445790237172" ID="ID_1508099870" MODIFIED="1445790237172" TEXT="$1 - kernel version"/>
<node CREATED="1445790237172" ID="ID_1581848344" MODIFIED="1445790237172" TEXT="$2 - kernel image file"/>
<node CREATED="1445790237173" ID="ID_834371195" MODIFIED="1445790237173" TEXT="$3 - kernel map file"/>
<node CREATED="1445790237174" ID="ID_1936492095" MODIFIED="1445790237174" TEXT="$4 - default install path (use root directory if blank)"/>
</node>
</node>
<node CREATED="1445790279259" ID="ID_1518736169" MODIFIED="1445790279731" TEXT="MODLIB">
<node CREATED="1445790289469" ID="ID_1828945855" MODIFIED="1445790290019" TEXT="Specify where to install modules."/>
<node CREATED="1445790299954" ID="ID_1785343121" MODIFIED="1445790301125" TEXT="The default value is">
<node CREATED="1445790312862" ID="ID_899039441" MODIFIED="1445790313788" TEXT="$(INSTALL_MOD_PATH)/lib/modules/$(KERNELRELEASE)"/>
</node>
</node>
<node CREATED="1445790315360" ID="ID_1379942050" MODIFIED="1445790330336" TEXT="INSTALL_MOD_PATH">
<node CREATED="1445790350843" ID="ID_708136104" MODIFIED="1445790351545" TEXT="specifies a prefix to MODLIB for module directory relocations required by build roots."/>
</node>
<node CREATED="1445790389808" ID="ID_1373149898" MODIFIED="1445790390424" TEXT="INSTALL_MOD_STRIP">
<node CREATED="1445790453395" ID="ID_1540613628" MODIFIED="1445790457320">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      INSTALL_MOD_STRIP, if defined, will cause modules to be
    </p>
    <p>
      stripped after they are installed.&#xa0;&#xa0;If INSTALL_MOD_STRIP is '1', then
    </p>
    <p>
      the default option --strip-debug will be used.&#xa0;&#xa0;Otherwise,
    </p>
    <p>
      INSTALL_MOD_STRIP will used as the options to the strip command.
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1445790474669" ID="ID_770274017" MODIFIED="1445790475475" TEXT="INSTALL_FW_PATH">
<node CREATED="1445790485260" ID="ID_1353953980" MODIFIED="1445790485260" TEXT="specifies where to install the firmware blobs."/>
<node CREATED="1445790503150" ID="ID_1296655272" MODIFIED="1445790503150" TEXT="$(INSTALL_MOD_PATH)/lib/firmware"/>
</node>
<node CREATED="1445790519367" ID="ID_869094298" MODIFIED="1445790519999" TEXT="INSTALL_HDR_PATH">
<node CREATED="1445790542303" ID="ID_81456068" MODIFIED="1445790543188" TEXT="pecifies where to install user space headers when executing &quot;make headers_*&quot;."/>
<node CREATED="1445790554320" ID="ID_285661705" MODIFIED="1445790554952" TEXT="$(objtree)/usr"/>
</node>
<node CREATED="1445790572485" ID="ID_208114180" MODIFIED="1445790573356" TEXT="KBUILD_MODPOST_WARN">
<node CREATED="1445790594910" ID="ID_841124806" MODIFIED="1445790595780" TEXT="KBUILD_MODPOST_WARN can be set to avoid errors in case of undefined symbols in the final module linking stage. It changes such errors into warnings."/>
</node>
<node CREATED="1445790607900" ID="ID_784874043" MODIFIED="1445790608499" TEXT="KBUILD_MODPOST_NOFINAL">
<node CREATED="1445790619893" ID="ID_888118857" MODIFIED="1445790620748" TEXT="KBUILD_MODPOST_NOFINAL can be set to skip the final link of modules. This is solely useful to speed up test compiles."/>
</node>
<node CREATED="1445790633534" ID="ID_344050354" MODIFIED="1445790634301" TEXT="KBUILD_EXTRA_SYMBOLS">
<node CREATED="1445790644531" ID="ID_787558979" MODIFIED="1445790645480" TEXT="For modules that use symbols from other modules. See more details in modules.txt."/>
</node>
<node CREATED="1445790663838" ID="ID_1412246367" MODIFIED="1445790664548" TEXT="ALLSOURCE_ARCHS">
<node CREATED="1445790676542" ID="ID_738280423" MODIFIED="1445790677353" TEXT="For tags/TAGS/cscope targets, you can specify more than one arch to be included in the databases, separated by blank space. E.g.:"/>
<node CREATED="1445790693572" ID="ID_1162467605" MODIFIED="1445790694675" TEXT="$ make ALLSOURCE_ARCHS=&quot;x86 mips arm&quot; tags"/>
</node>
</node>
</node>
<node CREATED="1445791047188" ID="ID_651414634" MODIFIED="1456336840883" TEXT="Documentation/kbuild/makefiles">
<node CREATED="1445791072967" ID="ID_412984172" MODIFIED="1445875303377" TEXT="Makefiles have five parts">
<node CREATED="1445875306297" ID="ID_444801658" MODIFIED="1445875315367" TEXT=".config"/>
<node CREATED="1445875315635" ID="ID_702023423" MODIFIED="1445875330447" TEXT="the top Makefile">
<node CREATED="1445875510265" ID="ID_440349888" MODIFIED="1445875511348" TEXT="building two major products">
<node CREATED="1445875513309" ID="ID_971544014" MODIFIED="1445875561065" TEXT="vmlinux # resident kernel image"/>
<node CREATED="1445875561630" ID="ID_1267562478" MODIFIED="1445875564707" TEXT="modules"/>
</node>
<node CREATED="1445875582478" ID="ID_1399140986" MODIFIED="1445875583450" TEXT="recursively descending into the subdirectories of the kernel source tree."/>
<node CREATED="1445875610918" ID="ID_156708530" MODIFIED="1445875611750" TEXT="textually includes an arch Makefile with the name arch/$(ARCH)/Makefile."/>
</node>
<node CREATED="1445875331165" ID="ID_1191828031" MODIFIED="1445875344907" TEXT="arch/$(ARCH)/Makefile">
<node CREATED="1445875626788" ID="ID_1990564629" MODIFIED="1445875627670" TEXT="arch Makefile supplies architecture-specific information to the top Makefile."/>
</node>
<node CREATED="1445875345207" ID="ID_1820132133" MODIFIED="1445875374109" TEXT="scripts/Makefile.*">
<node CREATED="1445875401077" ID="ID_1831663847" MODIFIED="1445875465439" TEXT="common definitions/rules for all Kbuild Makefiles"/>
</node>
<node CREATED="1445875380718" ID="ID_1402371975" MODIFIED="1445875729488" TEXT="Kbuild Makefiles">
<node CREATED="1445875459927" ID="ID_1663546411" MODIFIED="1445875460969" TEXT="there are about 500 of these."/>
<node CREATED="1445875655538" ID="ID_1564200750" MODIFIED="1445875656270" TEXT="Each subdirectory has a kbuild Makefile">
<node CREATED="1445875666980" ID="ID_1469541097" MODIFIED="1445875667582" TEXT="which carries out the commands passed down from above."/>
</node>
<node CREATED="1445875688576" ID="ID_1014629349" MODIFIED="1445875689318" TEXT="The kbuild Makefile uses information from the .config file to construct various file lists used by kbuild to build any built-in or modular targets."/>
</node>
</node>
<node CREATED="1445875730631" ID="ID_1078801823" MODIFIED="1445875818582" TEXT="People have four different relationships with the kernel Makefiles.">
<node CREATED="1445875823030" ID="ID_334963853" MODIFIED="1445875907472" TEXT="*Users* # build kernel"/>
<node CREATED="1445875849440" ID="ID_1893808920" MODIFIED="1445875959692" TEXT="*Normal developers* # maintain subsystems"/>
<node CREATED="1445875829541" ID="ID_418556881" MODIFIED="1445875999102" TEXT="*Arch developers* # architecture-specific"/>
<node CREATED="1445875876320" ID="ID_1327700770" MODIFIED="1445876023592" TEXT="*Kbuild developers* # kernel build system"/>
</node>
<node CREATED="1445876078850" ID="ID_136988731" MODIFIED="1445876095192" TEXT="Kbuild syntax">
<node CREATED="1445876133321" FOLDED="true" ID="ID_1625935228" MODIFIED="1445880329293" TEXT="Goal definitions # main part (heart)">
<node CREATED="1445876236196" FOLDED="true" ID="ID_174516933" MODIFIED="1445878152603" TEXT="obj-y # built-in object goals">
<node CREATED="1445876305747" ID="ID_752643648" MODIFIED="1445876306698" TEXT="$(obj-y)">
<node CREATED="1445876326457" ID="ID_1130112423" MODIFIED="1445876327229" TEXT="specifies object files for vmlinux">
<node CREATED="1445876373440" ID="ID_1786757157" MODIFIED="1445876374132" TEXT="Kbuild compiles all the $(obj-y) files."/>
<node CREATED="1445876391887" ID="ID_805520680" MODIFIED="1445876392579" TEXT="calls &#x9;&quot;$(LD) -r&quot; to merge these files into one built-in.o file."/>
<node CREATED="1445876404220" ID="ID_1010233740" MODIFIED="1445876404907" TEXT="built-in.o is later linked into vmlinux by the parent Makefile."/>
</node>
<node CREATED="1445876427427" ID="ID_691246730" MODIFIED="1445876439580" TEXT="The order of files in $(obj-y) is significant.">
<node CREATED="1445876453758" FOLDED="true" ID="ID_1094547972" MODIFIED="1445876539910" TEXT="duplicates in &#x9;the lists are allowed:">
<node CREATED="1445876470388" ID="ID_1981334530" MODIFIED="1445876496460" TEXT="first linked into built-in.o and succeeding ignored."/>
</node>
<node CREATED="1445876533228" ID="ID_465464480" MODIFIED="1445876559980" TEXT="Link order is significant, because certain functions (module_init() / __initcall) will be called during boot in the order they appear. ">
<node CREATED="1445876594158" ID="ID_1367527592" MODIFIED="1445876594840" TEXT=" So keep in mind that changing the link &#x9;order may e.g. change the order in which your SCSI &#x9;controllers are detected, and thus your disks are renumbered."/>
</node>
</node>
</node>
</node>
<node CREATED="1445876262346" FOLDED="true" ID="ID_55621854" MODIFIED="1445878151303" TEXT="obj-m # Loadable module goals">
<node CREATED="1445877425792" ID="ID_720941308" MODIFIED="1445877453673" TEXT="module built from ">
<node CREATED="1445877455302" ID="ID_1432849130" MODIFIED="1445877455965" TEXT="one source file">
<node CREATED="1445877591124" ID="ID_1808583806" MODIFIED="1445877603049" TEXT="obj-$(CONFIG_ISDN_PPP_BSDCOMP) += isdn_bsdcomp.o">
<node CREATED="1445877632195" ID="ID_1080331225" MODIFIED="1445877632850" TEXT="$(CONFIG_ISDN_PPP_BSDCOMP) evaluates to &apos;m&apos;"/>
</node>
</node>
<node CREATED="1445877458243" ID="ID_564905344" MODIFIED="1445877467897" TEXT="several source files">
<node CREATED="1445877661427" ID="ID_149226770" MODIFIED="1445877794613" TEXT="$(&lt;module_name&gt;-objs) or $(&lt;module_name&gt;-y) specifies the parts module built from"/>
<node CREATED="1445877796111" ID="ID_1854379603" MODIFIED="1445877814474">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      #drivers/isdn/i4l/Makefile
    </p>
    <p>
      obj-$(CONFIG_ISDN) += isdn.o
    </p>
    <p>
      isdn-objs := isdn_net_lib.o isdn_v110.o isdn_common.o
    </p>
  </body>
</html></richcontent>
<node CREATED="1445877890774" ID="ID_1093527837" MODIFIED="1445877904049" TEXT="the module named &apos;isdn&apos;"/>
<node CREATED="1445877819399" ID="ID_1188193242" MODIFIED="1445877910525" TEXT="module &apos;isdn&apos; built from">
<node CREATED="1445877869284" ID="ID_1145409680" MODIFIED="1445877872856" TEXT="isdn_net_lib.o"/>
<node CREATED="1445877873820" ID="ID_1617326230" MODIFIED="1445877887031" TEXT="isdn_v110.o "/>
<node CREATED="1445877878695" ID="ID_1989221790" MODIFIED="1445877889139" TEXT="isdn_v110.o isdn_common.o"/>
</node>
<node CREATED="1445877932232" ID="ID_976949488" MODIFIED="1445877932889" TEXT="Kbuild will &#x9;compile the objects listed in $(isdn-objs)"/>
<node CREATED="1445877943687" ID="ID_1218231895" MODIFIED="1445877952448" TEXT="then run &quot;$(LD) -r&quot; on the list of these files to generate isdn.o"/>
</node>
<node CREATED="1445877712633" ID="ID_1656774700" MODIFIED="1445878019595">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      #fs/ext2/Makefile
    </p>
    <p>
      obj-$(CONFIG_EXT2_FS)&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;+= ext2.o
    </p>
    <p>
      ext2-y&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;:= balloc.o bitmap.o
    </p>
    <p>
      ext2-$(CONFIG_EXT2_FS_XATTR) += xattr.o&#xa0;
    </p>
  </body>
</html></richcontent>
<node CREATED="1445878054892" ID="ID_422487184" MODIFIED="1445878055610" TEXT="xattr.o is only part of the composite object &#x9;ext2.o if $(CONFIG_EXT2_FS_XATTR) evaluates to &apos;y&apos;."/>
<node CREATED="1445878057259" ID="ID_575683754" MODIFIED="1445878088468" TEXT="ext2-m make no effect?"/>
</node>
</node>
</node>
</node>
<node CREATED="1445878138576" ID="ID_715019074" MODIFIED="1445878139304" TEXT="Objects which export symbols">
<node CREATED="1445878148596" ID="ID_189545626" MODIFIED="1445878149139" TEXT="No special notation is required in the makefiles for &#x9;modules exporting symbols."/>
</node>
<node CREATED="1445878165136" FOLDED="true" ID="ID_1515776070" MODIFIED="1445880325678" TEXT="lib-y # Library file goals">
<node CREATED="1445879690671" ID="ID_978918240" MODIFIED="1445879734957" TEXT="objects in list merged into a library, lib.a"/>
<node CREATED="1445879755306" ID="ID_131718918" MODIFIED="1445879762802" TEXT="All objects listed with lib-y are combined in a single &#x9;library for that directory.">
<font NAME="SansSerif" SIZE="12"/>
</node>
<node CREATED="1445879765167" ID="ID_1527253719" MODIFIED="1445879795656" TEXT="Objects that are listed in obj-y and additionally listed in &#x9;lib-y will not be included in the library"/>
<node CREATED="1445879822007" ID="ID_1560176958" MODIFIED="1445879822703" TEXT="objects listed in lib-m will be included in lib.a."/>
<node CREATED="1445879932556" ID="ID_225120166" MODIFIED="1445879933212" TEXT="For kbuild to actually recognize that there is a lib.a being built, &#x9;the directory shall be listed in libs-y."/>
<node CREATED="1445879944895" ID="ID_938897170" MODIFIED="1445879945518" TEXT="Use of lib-y is normally restricted to lib/ and arch/*/lib."/>
</node>
<node CREATED="1445880015904" FOLDED="true" ID="ID_1515505508" MODIFIED="1445880327251" TEXT="Descending down in directories">
<node CREATED="1445880030484" ID="ID_832584774" MODIFIED="1445880037109" TEXT="A Makefile is only responsible for building objects in its own directory."/>
<node CREATED="1445880048946" ID="ID_369577981" MODIFIED="1445880055648" TEXT="Files in subdirectories should be taken care of by Makefiles in these subdirs."/>
<node CREATED="1445880080156" ID="ID_1086659734" MODIFIED="1445880103047" TEXT="The build system will automatically invoke make recursively in subdirectories, provided you let it know of them.">
<node CREATED="1445880130437" ID="ID_449007336" MODIFIED="1445880131746" TEXT="obj-y and obj-m are used.">
<node CREATED="1445880151207" ID="ID_780247934" MODIFIED="1445880152188" TEXT="ext2 lives in a separate directory, and the Makefile present in fs/ &#x9;tells kbuild to descend down using the following assignment."/>
<node CREATED="1445880160833" ID="ID_1168803120" MODIFIED="1445880170028">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      #fs/Makefile
    </p>
    <p>
      obj-$(CONFIG_EXT2_FS) += ext2/
    </p>
  </body>
</html></richcontent>
<node CREATED="1445880274885" ID="ID_1158382999" MODIFIED="1445880294373" TEXT="If CONFIG_EXT2_FS is set to either &apos;y&apos; (built-in) or &apos;m&apos; (modular) the corresponding obj- variable will be set, and kbuild will descend down in the ext2 directory."/>
</node>
<node CREATED="1445880214872" ID="ID_976738706" MODIFIED="1445880241737" TEXT="build only uses this information to decide that it needs to visit the directory,it is the Makefile in the subdirectory that specifies what is modules and what is built-in."/>
</node>
</node>
</node>
</node>
<node CREATED="1445880329987" ID="ID_1090958730" MODIFIED="1456336844166" TEXT="Compilation flags">
<node CREATED="1445880748378" ID="ID_1018964069" MODIFIED="1445881305749" TEXT="K{CPP, A, C}FLAGS ">
<node CREATED="1445881306831" ID="ID_60095124" MODIFIED="1445881310411" TEXT="preprocess, assembly, compile flags for the entire tree"/>
</node>
<node CREATED="1445880815645" ID="ID_1409501854" MODIFIED="1445881317124" TEXT="{cc, as, ld}flags-y  ">
<node CREATED="1445881319534" MODIFIED="1445881319534" TEXT="per-directory flags to $(CC), $(AS), $(LD)"/>
</node>
<node CREATED="1445881053051" ID="ID_656774693" MODIFIED="1445881324285" TEXT="EXTRA_{C, A, LD}FLAGS">
<node CREATED="1445881325482" ID="ID_386437278" MODIFIED="1445881328788" TEXT="same as {cc, as, ld}flags-y, supported but deprecated"/>
</node>
<node CREATED="1445881175160" ID="ID_1260800517" MODIFIED="1445881334318" TEXT="subdir-{cc, as}flags-y">
<node CREATED="1445881335193" MODIFIED="1445881335193" TEXT="has effect for the kbuild file where they are present and all subdirectories."/>
</node>
<node CREATED="1445881283383" ID="ID_1964993699" MODIFIED="1445881338727" TEXT="{C, A}FLAGS_$@">
<node CREATED="1445881355200" ID="ID_588122775" MODIFIED="1445881363309" TEXT="per-file options for $(CC) $(AS)"/>
<node CREATED="1445881363891" ID="ID_511972135" MODIFIED="1445881385002" TEXT="The $@ &#x9;part has a literal value which specifies the file that it is for."/>
<node CREATED="1445881399609" ID="ID_1070583591" MODIFIED="1445881402980">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      # drivers/scsi/Makefile
    </p>
    <p>
      CFLAGS_aha152x.o =&#xa0;&#xa0;&#xa0;-DAHA152X_STAT -DAUTOCONF
    </p>
    <p>
      CFLAGS_gdth.o&#xa0;&#xa0;&#xa0;&#xa0;= # -DDEBUG_GDTH=2 -D__SERIAL__ -D__COM2__ \
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;-DGDTH_STATISTICS
    </p>
    <p>
      CFLAGS_seagate.o =&#xa0;&#xa0;&#xa0;-DARBITRATE -DPARITY -DSEAGATE_USE_ASM
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1445881431972" FOLDED="true" ID="ID_95671256" MODIFIED="1445881493143" TEXT="Dependency tracking">
<node CREATED="1445881446751" FOLDED="true" ID="ID_1777443737" MODIFIED="1445881472414" TEXT="Kbuild tracks dependencies on the following:">
<node CREATED="1445881454779" ID="ID_1924150314" MODIFIED="1445881454779" TEXT="1) All prerequisite files (both *.c and *.h)"/>
<node CREATED="1445881454780" ID="ID_1094345797" MODIFIED="1445881454780" TEXT="2) CONFIG_ options used in all prerequisite files"/>
<node CREATED="1445881454781" ID="ID_1967241250" MODIFIED="1445881454781" TEXT="3) Command-line used to compile target"/>
</node>
<node CREATED="1445881472816" ID="ID_828836031" MODIFIED="1445881477547" TEXT="Thus, if you change an option to $(CC) all affected files will be re-compiled."/>
</node>
<node CREATED="1445881493721" FOLDED="true" ID="ID_612443045" MODIFIED="1462194291343" TEXT="Special Rules">
<node CREATED="1445881568333" ID="ID_526037683" MODIFIED="1445881568993" TEXT="$(src)">
<node CREATED="1445881590817" ID="ID_1143100406" MODIFIED="1445881599676" TEXT="$(src) is a relative path which points to the directory where the Makefile is located. Always use $(src) when referring to files located in the src tree."/>
</node>
<node CREATED="1445881569375" ID="ID_1949169614" MODIFIED="1445881572704" TEXT="$(obj)">
<node CREATED="1445881626507" ID="ID_720277921" MODIFIED="1445881634108" TEXT="$(obj) is a relative path which points to the directory where the target is saved. Always use $(obj) when referring to generated files."/>
</node>
<node CREATED="1445881660940" ID="ID_336981263" MODIFIED="1445881661523" TEXT="$(kecho)">
<node CREATED="1445881672795" ID="ID_694493969" MODIFIED="1445881673950" TEXT="choing information to user"/>
<node CREATED="1445881685034" ID="ID_648359039" MODIFIED="1445881690045">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      #arch/blackfin/boot/Makefile
    </p>
    <p>
      $(obj)/vmImage: $(obj)/vmlinux.gz
    </p>
    <p>
      $(call if_changed,uimage)
    </p>
    <p>
      @$(kecho) 'Kernel: $@ is ready'
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1445881889884" FOLDED="true" ID="ID_1013016713" MODIFIED="1462194291342" TEXT="$(CC) support functions">
<node CREATED="1445881877534" ID="ID_992606852" MODIFIED="1445881892414" TEXT="as-option">
<node CREATED="1445881909767" ID="ID_478574301" MODIFIED="1445881910852" TEXT="as-option is used to check if $(CC) -- when used to compile &#x9;assembler (*.S) files -- supports the given option. An optional &#x9;second option may be specified if the first option is not supported."/>
<node CREATED="1445881919515" ID="ID_622623561" MODIFIED="1445881924293">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      #arch/sh/Makefile
    </p>
    <p>
      cflags-y += $(call as-option,-Wa$(comma)-isa=$(isa-y),)
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1445881936499" ID="ID_886228894" MODIFIED="1445881937148" TEXT="cc-ldoption">
<node CREATED="1445881960985" ID="ID_1691637107" MODIFIED="1445881961980" TEXT="cc-ldoption is used to check if $(CC) when used to link object files &#x9;supports the given option.  An optional second option may be &#x9;specified if first option are not supported."/>
<node CREATED="1445881973261" ID="ID_552527900" MODIFIED="1445881978760">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      #arch/i386/kernel/Makefile
    </p>
    <p>
      vsyscall-flags += $(call cc-ldoption, -Wl$(comma)--hash-style=sysv)
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1445882023223" ID="ID_460237586" MODIFIED="1445882023863" TEXT="as-instr">
<node CREATED="1445882033411" ID="ID_1144061486" MODIFIED="1445882034385" TEXT="as-instr checks if the assembler reports a specific instruction &#x9;and then outputs either option1 or option2 &#x9;C escapes are supported in the test instruction &#x9;Note: as-instr-option uses KBUILD_AFLAGS for $(AS) options"/>
</node>
<node CREATED="1445882052187" FOLDED="true" ID="ID_12178416" MODIFIED="1445882084399" TEXT="cc-option">
<node CREATED="1445882063844" ID="ID_643423308" MODIFIED="1445882064631" TEXT="cc-option is used to check if $(CC) supports a given option, and not &#x9;supported to use an optional second option."/>
</node>
<node CREATED="1445882084832" ID="ID_9203697" MODIFIED="1445882085550" TEXT="cc-option-yn">
<node CREATED="1445882103314" ID="ID_1440846676" MODIFIED="1445882104053" TEXT="cc-option-yn is used to check if gcc supports a given option &#x9;and return &apos;y&apos; if supported, otherwise &apos;n&apos;."/>
</node>
<node CREATED="1445882177990" ID="ID_1590190406" MODIFIED="1445882178644" TEXT="cc-option-align">
<node CREATED="1445882193330" ID="ID_741124296" MODIFIED="1445882197694">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      gcc versions &gt;= 3.0 changed the type of options used to specify
    </p>
    <p>
      alignment of functions, loops etc. $(cc-option-align), when used
    </p>
    <p>
      as prefix to the align options, will select the right prefix:
    </p>
    <p>
      gcc &lt; 3.00
    </p>
    <p>
      cc-option-align = -malign
    </p>
    <p>
      gcc &gt;= 3.00
    </p>
    <p>
      cc-option-align = -falign
    </p>
    <p>
      
    </p>
    <p>
      Example:
    </p>
    <p>
      KBUILD_CFLAGS += $(cc-option-align)-functions=4
    </p>
    <p>
      
    </p>
    <p>
      In the above example, the option -falign-functions=4 is used for
    </p>
    <p>
      gcc &gt;= 3.00. For gcc &lt; 3.00, -malign-functions=4 is used.
    </p>
    <p>
      Note: cc-option-align uses KBUILD_CFLAGS for $(CC) options
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1445882230710" ID="ID_1375579247" MODIFIED="1445882231387" TEXT="cc-disable-warning">
<node CREATED="1445882240716" ID="ID_345660478" MODIFIED="1445882244316">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      cc-disable-warning checks if gcc supports a given warning and returns
    </p>
    <p>
      the commandline switch to disable it. This special function is needed,
    </p>
    <p>
      because gcc 4.4 and later accept any unknown -Wno-* option and only
    </p>
    <p>
      warn about it if there is another warning in the source file.
    </p>
    <p>
      
    </p>
    <p>
      Example:
    </p>
    <p>
      KBUILD_CFLAGS += $(call cc-disable-warning, unused-but-set-variable)
    </p>
    <p>
      
    </p>
    <p>
      In the above example, -Wno-unused-but-set-variable will be added to
    </p>
    <p>
      KBUILD_CFLAGS only if gcc really accepts it.
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1445882300947" ID="ID_856430203" MODIFIED="1445882303714" TEXT="cc-version">
<node CREATED="1445882266263" ID="ID_1910534206" MODIFIED="1445882290226">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      cc-version returns a numerical version of the $(CC) compiler version.
    </p>
    <p>
      The format is &lt;major&gt;&lt;minor&gt; where both are two digits. So for example
    </p>
    <p>
      gcc 3.41 would return 0341.
    </p>
    <p>
      cc-version is useful when a specific $(CC) version is faulty in one
    </p>
    <p>
      area, for example -mregparm=3 was broken in some gcc versions
    </p>
    <p>
      even though the option was accepted by gcc.
    </p>
    <p>
      
    </p>
    <p>
      Example:
    </p>
    <p>
      #arch/i386/Makefile
    </p>
    <p>
      cflags-y += $(shell \
    </p>
    <p>
      if [ $(call cc-version) -ge 0300 ] ; then \
    </p>
    <p>
      echo "-mregparm=3"; fi ;)
    </p>
    <p>
      
    </p>
    <p>
      In the above example, -mregparm=3 is only used for gcc version greater
    </p>
    <p>
      than or equal to gcc 3.0.
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1445882305763" ID="ID_838968610" MODIFIED="1445882332920" TEXT="cc-ifversion">
<node CREATED="1445882335855" ID="ID_1397549038" MODIFIED="1445882347812">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      cc-ifversion tests the version of $(CC) and equals last argument if
    </p>
    <p>
      version expression is true.
    </p>
    <p>
      
    </p>
    <p>
      Example:
    </p>
    <p>
      #fs/reiserfs/Makefile
    </p>
    <p>
      ccflags-y := $(call cc-ifversion, -lt, 0402, -O1)
    </p>
    <p>
      
    </p>
    <p>
      In this example, ccflags-y will be assigned the value -O1 if the
    </p>
    <p>
      $(CC) version is less than 4.2.
    </p>
    <p>
      cc-ifversion takes all the shell operators:
    </p>
    <p>
      -eq, -ne, -lt, -le, -gt, and -ge
    </p>
    <p>
      The third parameter may be a text as in this example, but it may also
    </p>
    <p>
      be an expanded variable or a macro.
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1445882377704" ID="ID_1097194391" MODIFIED="1445882378318" TEXT="cc-fullversion">
<node CREATED="1445882387957" ID="ID_225829708" MODIFIED="1445882392095">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      cc-fullversion is useful when the exact version of gcc is needed.
    </p>
    <p>
      One typical use-case is when a specific GCC version is broken.
    </p>
    <p>
      cc-fullversion points out a more specific version than cc-version does.
    </p>
    <p>
      
    </p>
    <p>
      Example:
    </p>
    <p>
      #arch/powerpc/Makefile
    </p>
    <p>
      $(Q)if test "$(call cc-fullversion)" = "040200" ; then \
    </p>
    <p>
      echo -n '*** GCC-4.2.0 cannot compile the 64-bit powerpc ' ; \
    </p>
    <p>
      false ; \
    </p>
    <p>
      fi
    </p>
    <p>
      
    </p>
    <p>
      In this example for a specific GCC version the build will error out explaining
    </p>
    <p>
      to the user why it stops.
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1445882414348" ID="ID_713229083" MODIFIED="1445882415164" TEXT="cc-cross-prefix">
<node CREATED="1445882426803" ID="ID_118041566" MODIFIED="1445882429873">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      cc-cross-prefix is used to check if there exists a $(CC) in path with
    </p>
    <p>
      one of the listed prefixes. The first prefix where there exist a
    </p>
    <p>
      prefix$(CC) in the PATH is returned - and if no prefix$(CC) is found
    </p>
    <p>
      then nothing is returned.
    </p>
    <p>
      Additional prefixes are separated by a single space in the
    </p>
    <p>
      call of cc-cross-prefix.
    </p>
    <p>
      This functionality is useful for architecture Makefiles that try
    </p>
    <p>
      to set CROSS_COMPILE to well-known values but may have several
    </p>
    <p>
      values to select between.
    </p>
    <p>
      It is recommended only to try to set CROSS_COMPILE if it is a cross
    </p>
    <p>
      build (host arch is different from target arch). And if CROSS_COMPILE
    </p>
    <p>
      is already set then leave it with the old value.
    </p>
    <p>
      
    </p>
    <p>
      Example:
    </p>
    <p>
      #arch/m68k/Makefile
    </p>
    <p>
      ifneq ($(SUBARCH),$(ARCH))
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;ifeq ($(CROSS_COMPILE),)
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;CROSS_COMPILE := $(call cc-cross-prefix, m68k-linux-gnu-)
    </p>
    <p>
      endif
    </p>
    <p>
      endif
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1445882450741" ID="ID_33548546" MODIFIED="1445882451881" TEXT="$(LD) support functions">
<node CREATED="1445882463680" ID="ID_1218512505" MODIFIED="1445882463680" TEXT="ld-option">
<node CREATED="1445882478180" ID="ID_1807795739" MODIFIED="1445882481829">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      ld-option is used to check if $(LD) supports the supplied option.
    </p>
    <p>
      ld-option takes two options as arguments.
    </p>
    <p>
      The second argument is an optional option that can be used if the
    </p>
    <p>
      first option is not supported by $(LD).
    </p>
    <p>
      
    </p>
    <p>
      Example:
    </p>
    <p>
      #Makefile
    </p>
    <p>
      LDFLAGS_vmlinux += $(call really-ld-option, -X)
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
<node CREATED="1445882464275" ID="ID_95199511" MODIFIED="1445882464275" TEXT=""/>
</node>
</node>
</node>
<node CREATED="1445753474386" FOLDED="true" ID="ID_1473006421" MODIFIED="1445958635579" TEXT="&#x6811;&#x5916;&#x6a21;&#x5757;&#x7f16;&#x8bd1;&#x6210;&#x529f;&#x7684;&#x524d;&#x63d0;&#x6761;&#x4ef6;">
<node CREATED="1445753528051" ID="ID_433122802" MODIFIED="1445753537976" TEXT="1. &#x5b8c;&#x6574;&#x7684;&#x7f16;&#x8bd1;&#x4e00;&#x6b21;&#x6e90;&#x7801;&#x6811;"/>
<node CREATED="1445753538374" ID="ID_334452439" MODIFIED="1445753555415" TEXT="2.make modules_prepare"/>
</node>
<node CREATED="1445753573781" FOLDED="true" ID="ID_45663500" MODIFIED="1445958705630" TEXT="distribution kernel&#x7684;&#x6811;&#x5916;&#x6a21;&#x5757;&#x7f16;&#x8bd1;">
<node CREATED="1445753623347" ID="ID_568869467" MODIFIED="1445753682808" TEXT="1. &#x6e90;&#x7801;&#x6811;  /lib/modules/`uname -r`/source">
<node CREATED="1445753697567" ID="ID_580955971" MODIFIED="1445753880211" TEXT="symlink -&gt; /usr/src/kernels/`uname -r`/  #Centos 6.6 "/>
<node CREATED="1445753921368" ID="ID_119009018" MODIFIED="1445753949027" TEXT="/usr/src/linux-&lt;version&gt;  #Documentation/kbuild/modules"/>
</node>
<node CREATED="1445753829498" ID="ID_946411812" MODIFIED="1445753859472" TEXT="2. &#x7f16;&#x8bd1;&#x8f93;&#x51fa; /lib/modules/`uname -r`/build">
<node CREATED="1445753697567" ID="ID_1689103463" MODIFIED="1445753887101" TEXT="symlink -&gt; /usr/src/kernels/`uname -r`/ #Centos 6.6"/>
<node CREATED="1445753933335" ID="ID_1010947758" MODIFIED="1445753955877" TEXT="/usr/src/linux-&lt;version&gt;-up #Documentation/kbuild/modules"/>
</node>
</node>
<node CREATED="1445958730631" FOLDED="true" ID="ID_229928420" MODIFIED="1458388693489" TEXT="utilities">
<node CREATED="1445958891836" FOLDED="true" ID="ID_1565396012" MODIFIED="1458388693488" TEXT="demo">
<node CREATED="1445958934014" ID="ID_1334203406" MODIFIED="1445958941016">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      #include&lt;linux/module.h&gt;
    </p>
    <p>
      #include&lt;linux/timer.h&gt;
    </p>
    <p>
      #include&lt;linux/errno.h&gt;
    </p>
    <p>
      
    </p>
    <p>
      static int sec = 5;
    </p>
    <p>
      module_param(sec, int, S_IRUGO|S_IWUSR);
    </p>
    <p>
      MODULE_PARM_DESC(sec, "Set the interval.");
    </p>
    <p>
      
    </p>
    <p>
      static void mymod_timer(unsigned long data);
    </p>
    <p>
      
    </p>
    <p>
      static DEFINE_TIMER(timer, mymod_timer, 0, 0);
    </p>
    <p>
      
    </p>
    <p>
      static void mymod_timer(unsigned long data)
    </p>
    <p>
      {
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;printk(KERN_INFO, "mymod: timer\n");
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;mod_timer(&amp;timer, jiffies + sec * HZ);
    </p>
    <p>
      }
    </p>
    <p>
      
    </p>
    <p>
      static int mymod_init(void)
    </p>
    <p>
      {
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;printk(KERN_INFO "mymod: init\n");
    </p>
    <p>
      
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;if (sec &lt;= 0){
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;printk(KERN_INFO "Invalid interval sec=%d\n",sec);
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;return -EINVAL;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;}
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;mod_timer(&amp;timer, jiffies + sec * HZ);
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;return 0;
    </p>
    <p>
      }
    </p>
    <p>
      
    </p>
    <p>
      static void mymod_exit(void)
    </p>
    <p>
      {
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;del_timer(&amp;timer);
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;printk(KERN_INFO "mymod: exit\n");
    </p>
    <p>
      }
    </p>
    <p>
      
    </p>
    <p>
      module_init(mymod_init);
    </p>
    <p>
      module_exit(mymod_exit);
    </p>
    <p>
      
    </p>
    <p>
      MODULE_AUTHOR("Hiroshi Shimamoto");
    </p>
    <p>
      MODULE_LICENSE("GPL");
    </p>
    <p>
      MODULE_DESCRIPTION("My module");
    </p>
  </body>
</html></richcontent>
</node>
</node>
<node CREATED="1445958706360" ID="ID_1842015208" MODIFIED="1445958749114" TEXT="{ls, ins, rm}mod">
<node CREATED="1445958832687" ID="ID_647246335" MODIFIED="1445958850749" TEXT="insmod mymod.ko sec=10"/>
<node CREATED="1445958851897" ID="ID_1874294801" MODIFIED="1445958860709" TEXT="rmmod mymod.ko"/>
</node>
<node CREATED="1445958750442" ID="ID_989235544" MODIFIED="1445958761686" TEXT="modprobe, modinfo"/>
<node CREATED="1445958763724" ID="ID_1926379319" MODIFIED="1445958770726" TEXT="dmesg"/>
<node CREATED="1445958807636" ID="ID_465974187" MODIFIED="1445958825349" TEXT="/sys/modules/mymod/parameters/sec"/>
</node>
<node CREATED="1445958946751" ID="ID_72092873" MODIFIED="1445958985797" TEXT="jiffies/jiffy  &#x7cfb;&#x7edf;&#x81ea;&#x542f;&#x52a8;&#x4e4b;&#x540e;&#x7684;&#x8282;&#x62cd;&#x6570;&#xff0c;&#x65f6;&#x95f4;&#x4e2d;&#x65ad;&#x7684;&#x6570;&#x76ee;"/>
</node>
<node CREATED="1446048969443" ID="ID_1835562901" MODIFIED="1462154793915" TEXT="Hack#4 git">
<node CREATED="1446049030200" ID="ID_705297893" MODIFIED="1446049040153" TEXT="OSS (open source software)"/>
<node CREATED="1446049040416" ID="ID_437682312" MODIFIED="1446049049942" TEXT="scm(source code management)"/>
<node CREATED="1446049050970" ID="ID_392445217" MODIFIED="1446049063546" TEXT="2005&#x4ee5;&#x524d; BitKeeper"/>
<node CREATED="1446049082800" ID="ID_1367475957" MODIFIED="1446049091598" TEXT="2005&#x5e74; Linus &#x5f00;&#x53d1;Git">
<node CREATED="1446049551591" ID="ID_1437985781" MODIFIED="1446049564896" TEXT="&#x5206;&#x5e03;&#x5f0f; vs &#x5355;&#x4e00;&#x5f0f;&#xff08;&#x4e2d;&#x592e;&#xff09;"/>
</node>
<node CREATED="1446050204812" ID="ID_1388576868" MODIFIED="1446050209945" TEXT="man git-diff"/>
<node CREATED="1446050481083" ID="ID_1326220058" MODIFIED="1446050482858" TEXT="git diff">
<node CREATED="1446050484556" ID="ID_1357299394" MODIFIED="1446050488727" TEXT="git diff">
<node CREATED="1446050509111" ID="ID_423231904" MODIFIED="1446050531364" TEXT="&#x5f53;&#x524d;&#x5de5;&#x4f5c;&#x533a;&#x548c;&#x7f13;&#x5b58;&#x533a;"/>
</node>
<node CREATED="1446050488958" ID="ID_1440883327" MODIFIED="1446050493551" TEXT="git diff --cached">
<node CREATED="1446050533403" ID="ID_1250050859" MODIFIED="1446050544114" TEXT="&#x7f13;&#x5b58;&#x533a;&#x548c;&#x6700;&#x65b0;&#x63d0;&#x4ea4;"/>
</node>
<node CREATED="1446050494356" ID="ID_734334572" MODIFIED="1446050499848" TEXT="git diff HEAD">
<node CREATED="1446050546401" ID="ID_644912101" MODIFIED="1446050558493" TEXT="&#x5f53;&#x524d;&#x5de5;&#x4f5c;&#x533a;&#x548c;&#x6700;&#x65b0;&#x63d0;&#x4ea4;"/>
</node>
<node CREATED="1446050849258" ID="ID_856263345" MODIFIED="1446050849258" TEXT=""/>
</node>
<node CREATED="1446050853186" ID="ID_1482104471" MODIFIED="1446051381053" TEXT="git log">
<node CREATED="1446050857864" ID="ID_1303460602" MODIFIED="1446050864114" TEXT="git log HEAD"/>
<node CREATED="1446050864481" ID="ID_858823980" MODIFIED="1446050877974" TEXT="git log HEAD~ git log HEAD~1"/>
<node CREATED="1446050878302" ID="ID_1169742068" MODIFIED="1446050893074" TEXT="git log HEAD~~ git log HEAD~2"/>
<node CREATED="1446050893656" ID="ID_563067889" MODIFIED="1446050907106" TEXT="git log HEAD~2 .. HEAD~1"/>
<node CREATED="1446050952472" ID="ID_307711922" MODIFIED="1446050957858" TEXT="git log -p foobar.c"/>
</node>
<node CREATED="1446052092406" ID="ID_223544815" MODIFIED="1446052093251" TEXT="git ls-files"/>
<node CREATED="1446051383497" ID="ID_372375454" MODIFIED="1446051390189" TEXT="rollback">
<node CREATED="1446051391042" ID="ID_1196476541" MODIFIED="1446051395109" TEXT="git revert HEAD">
<node CREATED="1446051405647" ID="ID_1492574891" MODIFIED="1446051459498" TEXT="HEAD~1 &#x91cd;&#x65b0;&#x63d0;&#x4ea4;&#xff0c; &#x539f;&#x6765;HEAD&#x53d8;&#x66f4;&#x4e3a;HEAD~1"/>
</node>
<node CREATED="1446051463986" ID="ID_350894757" MODIFIED="1446052110999" TEXT="git commit --amend">
<node CREATED="1446052112259" ID="ID_540404037" MODIFIED="1446052135716" TEXT="&#x76f4;&#x63a5;&#x5728;HEAD &#x63d0;&#x4ea4;&#x4e0a;&#x4fee;&#x6539;&#xff0c; &#x6dfb;&#x52a0;&#x65b0;&#x7684;&#x63d0;&#x4ea4;"/>
</node>
<node CREATED="1446052136678" ID="ID_465812059" MODIFIED="1446052496361" TEXT="git reset  --soft HEAD~1">
<node CREATED="1446052502550" ID="ID_811295331" MODIFIED="1446052528187" TEXT="HEAD&#x6307;&#x5411;HEAD~1&#xff0c; &#x5f53;&#x524d;git&#x5904;&#x4e8e;staged&#x72b6;&#x6001;"/>
</node>
<node CREATED="1446052480751" ID="ID_398092806" MODIFIED="1446052493317" TEXT="git reset --hard HEAD~1">
<node CREATED="1446052532054" ID="ID_915370252" MODIFIED="1446052552041" TEXT="HEAD&#x6267;&#x884c;HEAD~1&#xff0c; &#x5f53;&#x524d;git&#x5904;&#x4e8e;unstaged&#x72b6;&#x6001;"/>
</node>
</node>
<node CREATED="1446052709951" ID="ID_1764055169" MODIFIED="1446052732471" TEXT="unstaged-&gt;staged git add ."/>
<node CREATED="1446052732861" ID="ID_950473754" MODIFIED="1446052745838" TEXT="staged-&gt;unstaged git checkout -- file"/>
<node CREATED="1446052829476" ID="ID_1747154728" MODIFIED="1446052832041" TEXT="git tag">
<node CREATED="1446052833461" ID="ID_1957247618" MODIFIED="1446052843094" TEXT="git tag HEAD~1 tag1"/>
</node>
<node CREATED="1446052981541" FOLDED="true" ID="ID_342540483" MODIFIED="1446053107686" TEXT="git rebase">
<node CREATED="1446052991103" ID="ID_79411281" MODIFIED="1446052994607" TEXT="git rebase master">
<node CREATED="1446052995721" ID="ID_450266320" MODIFIED="1446053042395" TEXT="&#x5c06;&#x5f53;&#x524d;&#x5206;&#x652f;&#x7684;&#x57fa;&#x70b9;&#x79fb;&#x52a8;&#x5230;master&#x5f53;&#x524d;&#x6700;&#x65b0;&#x63d0;&#x4ea4;"/>
</node>
</node>
<node CREATED="1446053108023" ID="ID_1640080494" MODIFIED="1446053120300" TEXT="git merge">
<node CREATED="1446053121489" ID="ID_1400690789" MODIFIED="1446053130082" TEXT="git merge br1">
<node CREATED="1446053130984" ID="ID_894333940" MODIFIED="1446053142056" TEXT="&#x5c06;&#x5f53;&#x524d;br1&#x5408;&#x5e76;&#x5230;&#x5f53;&#x524d;&#x5206;&#x652f;"/>
</node>
</node>
<node CREATED="1446053169446" ID="ID_678111380" MODIFIED="1446053175924" TEXT="git format-patch">
<node CREATED="1446053178213" ID="ID_1244038609" MODIFIED="1446053199086" TEXT="git format-patch ver1..ver2"/>
</node>
<node CREATED="1446053398845" ID="ID_1171106265" MODIFIED="1446053402398" TEXT="git archive">
<node CREATED="1446053403739" MODIFIED="1446053403739" TEXT="git archive --format=tar --prefix=&quot;hello_v2/&quot; ver2 &gt;hello_v2.tar"/>
</node>
</node>
<node CREATED="1446053596111" FOLDED="true" ID="ID_556437949" MODIFIED="1446054133964" TEXT="Hack#5 checkpatch.pl">
<node CREATED="1446053611673" ID="ID_984321468" MODIFIED="1446053621970" TEXT="Documentation/CodingStyle"/>
<node CREATED="1446053629121" ID="ID_670746082" MODIFIED="1446053679039" TEXT="scripts/checkpatch.pl --terse some.patch"/>
</node>
<node CREATED="1446053751088" ID="ID_1545419120" MODIFIED="1481673168993" TEXT="Hack#6 localmodconfig">
<node CREATED="1446053923784" ID="ID_1823114765" MODIFIED="1446053978423" TEXT="make localmodconfig &#x53ea;&#x751f;&#x6210;&#x4ee5;&#x6b63;&#x5728;&#x4f7f;&#x7528;&#x7684;&#x6a21;&#x5757;&#x4e3a;&#x5bf9;&#x8c61;&#x7684;.config&#x6587;&#x4ef6;&#xff0c;&#x4f1a;&#x7f29;&#x77ed;&#x7f16;&#x8bd1;&#x65f6;&#x95f4;"/>
<node CREATED="1446053978678" ID="ID_1824591490" MODIFIED="1446054008319" TEXT="scripts/kconfig/streamline_config.pl"/>
<node CREATED="1446054041454" ID="ID_745950862" MODIFIED="1446054054192" TEXT="configs.ko CONFIG_IKCONFIG=m"/>
<node CREATED="1446054063039" ID="ID_765040367" MODIFIED="1446054064061" TEXT="lsmod"/>
</node>
</node>
<node CREATED="1446054145504" ID="ID_672908447" MODIFIED="1446054159825" POSITION="right" TEXT="&#x8d44;&#x6e90;&#x7ba1;&#x7406;#7~#16">
<node CREATED="1446054165287" FOLDED="true" ID="ID_23959652" MODIFIED="1462194286051" TEXT="Hack#7 cgroup&#xff0c;namespace&#xff0c;Linux&#x5bb9;&#x5668;">
<node CREATED="1446054377694" FOLDED="true" ID="ID_1915093040" MODIFIED="1446257299781" TEXT="cgroup (control group)">
<node CREATED="1446132176170" ID="ID_1097385227" MODIFIED="1446132877844" TEXT="/proc/cgroups"/>
<node CREATED="1446132837109" ID="ID_371008137" MODIFIED="1446132839171" TEXT="yum install libcgroup"/>
<node CREATED="1446132883562" ID="ID_1076577421" MODIFIED="1446132899715" TEXT="service cgconfig start">
<node CREATED="1446132914067" FOLDED="true" ID="ID_562768699" MODIFIED="1446137611696" TEXT="/etc/cgconfig.conf">
<node CREATED="1446132964714" ID="ID_939214544" MODIFIED="1446132972469" TEXT="mount section">
<node CREATED="1446133009024" ID="ID_937937687" MODIFIED="1446133053638">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      mount {
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;cpuset&#xa0;&#xa0;= /cgroup/cpuset;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;cpu&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;= /cgroup/cpu;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;cpuacct = /cgroup/cpuacct;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;memory&#xa0;&#xa0;= /cgroup/memory;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;devices = /cgroup/devices;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;freezer = /cgroup/freezer;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;net_cls = /cgroup/net_cls;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;blkio&#xa0;&#xa0;&#xa0;= /cgroup/blkio;
    </p>
    <p>
      }
    </p>
  </body>
</html></richcontent>
<node CREATED="1446133063282" ID="ID_594325415" MODIFIED="1446133081928" TEXT="mkdir /cgroup/cpu"/>
<node CREATED="1446133083012" ID="ID_1254534207" MODIFIED="1446133183101" TEXT="mount -t cgroup -o cpuset cpuset /cgroup/cpuset"/>
</node>
</node>
<node CREATED="1446132972747" ID="ID_818995838" MODIFIED="1446133001639" TEXT="group section">
<node CREATED="1446133015017" ID="ID_89077519" MODIFIED="1446133432511">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      group &lt;name&gt; {
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;[&lt;permissions&gt;]
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&lt;controller&gt; {
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&lt;param name&gt; = &lt;param value&gt;;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#x2026;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;}
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#x2026;
    </p>
    <p>
      }
    </p>
  </body>
</html></richcontent>
<node CREATED="1446133815854" ID="ID_1355290523" MODIFIED="1446133821050">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      mount {&#xa0;&#xa0;## &#x5b9a;&#x4e49;&#x9700;&#x8981;&#x521b;&#x5efa;&#x7684;cgroup&#x5b50;&#x7cfb;&#x7edf;&#x53ca;&#x5176;&#x6302;&#x8f7d;&#x70b9;&#xff0c;&#x8fd9;&#x91cc;&#x521b;&#x5efa;cpu&#x4e0e;cpuacct&#xff08;&#x7edf;&#x8ba1;&#xff09;&#x4e24;&#x4e2a;cgroup&#x5b50;&#x7cfb;&#x7edf;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;cpu = /mnt/cgroups/cpu;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;cpuacct = /mnt/cgroups/cpu;
    </p>
    <p>
      }
    </p>
    <p>
      
    </p>
    <p>
      group daemons/www { ## &#x5b9a;&#x4e49;daemons/www(web&#x670d;&#x52a1;&#x5668;&#x8fdb;&#x7a0b;)&#x7ec4;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;perm {&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;## &#x5b9a;&#x4e49;&#x8fd9;&#x4e2a;&#x7ec4;&#x7684;&#x6743;&#x9650;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;task {
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;uid = root;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;gid = webmaster;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;}
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;admin {
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;uid = root;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;gid = root;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;}
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;}
    </p>
    <p>
      
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;cpu {&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;## &#x5b9a;&#x4e49;cpu&#x5b50;&#x7cfb;&#x7edf;&#x7684;&#x5c5e;&#x6027;&#x53ca;&#x5176;&#x503c;&#xff0c;&#x5373;&#x5c5e;&#x4e8e;&#x8bcd;&#x7ec4;&#x7684;&#x4efb;&#x52a1;&#x7684;&#x6743;&#x91cd;&#x4e3a;1000
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;cpu.shares = 1000;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;}
    </p>
    <p>
      }
    </p>
    <p>
      
    </p>
    <p>
      group daemons/ftp { ## &#x5b9a;&#x4e49;daemons/ftp(ftp&#x8fdb;&#x7a0b;)&#x7ec4;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;perm {
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;task {
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;uid = root;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;gid = ftpmaster;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;}
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;admin {
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;uid = root;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;gid = root;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;}
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;}
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;cpu {&#xa0;&#xa0;## &#x5b9a;&#x4e49;&#x8bcd;&#x7ec4;&#x7684;&#x4efb;&#x52a1;&#x7684;&#x6743;&#x91cd;&#x4e3a;500
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;&#xa0;cpu.shares = 500;
    </p>
    <p>
      &#xa0;&#xa0;&#xa0;&#xa0;}
    </p>
    <p>
      }
    </p>
  </body>
</html></richcontent>
<node CREATED="1446133861235" ID="ID_1752970797" MODIFIED="1446133867647">
<richcontent TYPE="NODE"><html>
  <head>
    
  </head>
  <body>
    <p>
      mkdir /mnt/cgroups/cpu
    </p>
    <p>
      mount -t cgroup -o cpu,cpuacct cpu /mnt/cgroups/cpu
    </p>
    <p>
      mkdir /mnt/cgroups/cpu/daemons
    </p>
    <p>
      mkdir /mnt/cgroups/cpu/daemons/www
    </p>
    <p>
      chown root:root /mnt/cgroups/cpu/daemons/www/*
    </p>
    <p>
      chown root:webmaster /mnt/cgroups/cpu/daemons/www/tasks
    </p>
    <p>
      echo 1000 &gt; /mnt/cgroups/cpu/daemons/www/cpu.shares
    </p>
    <p>
      mkdir /mnt/cgroups/cpu/daemons/ftp
    </p>
    <p>
      chown root:root /mnt/cgroups/cpu/daemons/ftp/*
    </p>
    <p>
      chown root:ftpmaster /mnt/cgroups/cpu/daemons/ftp/tasks
    </p>
    <p>
      echo 500 &gt; /mnt/cgroups/cpu/daemons/ftp/cpu.shares
    </p>
  </body>
</html></richcontent>
</node>
</node>
</node>
</node>
</node>
</node>
<node CREATED="1446132900830" ID="ID_1257976499" MODIFIED="1446132910036" TEXT="chkconfig cgconfig on"/>
<node CREATED="1446137620904" FOLDED="true" ID="ID_1793996267" MODIFIED="1446137939780" TEXT="/cgroup/">
<node CREATED="1446137628341" ID="ID_1692665821" MODIFIED="1446137631168" TEXT="cpu">
<node CREATED="1446137681003" ID="ID_40009114" MODIFIED="1446137681003" TEXT="cgroup.event_control"/>
<node CREATED="1446137681004" ID="ID_587724508" MODIFIED="1446137681004" TEXT="cgroup.procs"/>
<node CREATED="1446137681005" ID="ID_8895630" MODIFIED="1446137681005" TEXT="cpu.cfs_period_us"/>
<node CREATED="1446137681006" ID="ID_472518836" MODIFIED="1446137681006" TEXT="cpu.cfs_quota_us"/>
<node CREATED="1446137681006" ID="ID_165485024" MODIFIED="1446137681006" TEXT="cpu.rt_period_us"/>
<node CREATED="1446137681007" ID="ID_123940530" MODIFIED="1446137681007" TEXT="cpu.rt_runtime_us"/>
<node CREATED="1446137681008" ID="ID_1238248116" MODIFIED="1446137681008" TEXT="cpu.shares"/>
<node CREATED="1446137681009" ID="ID_576355517" MODIFIED="1446137681009" TEXT="cpu.stat"/>
<node CREATED="1446137681011" ID="ID_83628830" MODIFIED="1446137681011" TEXT="notify_on_release"/>
<node CREATED="1446137681012" ID="ID_1185435686" MODIFIED="1446137681012" TEXT="release_agent"/>
<node CREATED="1446137681013" ID="ID_489766859" MODIFIED="1446137681013" TEXT="tasks"/>
</node>
<node CREATED="1446137693665" ID="ID_1065461004" MODIFIED="1446137720085" TEXT="cpuacct">
<node CREATED="1446137721290" MODIFIED="1446137721290" TEXT="cgroup.event_control"/>
<node CREATED="1446137721292" MODIFIED="1446137721292" TEXT="cgroup.procs"/>
<node CREATED="1446137721293" MODIFIED="1446137721293" TEXT="cpuacct.stat"/>
<node CREATED="1446137721294" MODIFIED="1446137721294" TEXT="cpuacct.usage"/>
<node CREATED="1446137721294" MODIFIED="1446137721294" TEXT="cpuacct.usage_percpu"/>
<node CREATED="1446137721295" MODIFIED="1446137721295" TEXT="notify_on_release"/>
<node CREATED="1446137721296" MODIFIED="1446137721296" TEXT="release_agent"/>
<node CREATED="1446137721297" MODIFIED="1446137721297" TEXT="tasks"/>
</node>
<node CREATED="1446137726528" FOLDED="true" ID="ID_1305298930" MODIFIED="1446137756999" TEXT="cpuset">
<node CREATED="1446137756014" MODIFIED="1446137756014" TEXT="cgroup.event_control"/>
<node CREATED="1446137756015" MODIFIED="1446137756015" TEXT="cgroup.procs"/>
<node CREATED="1446137756016" MODIFIED="1446137756016" TEXT="cpuset.cpu_exclusive"/>
<node CREATED="1446137756017" MODIFIED="1446137756017" TEXT="cpuset.cpus"/>
<node CREATED="1446137756018" MODIFIED="1446137756018" TEXT="cpuset.mem_exclusive"/>
<node CREATED="1446137756020" MODIFIED="1446137756020" TEXT="cpuset.mem_hardwall"/>
<node CREATED="1446137756021" MODIFIED="1446137756021" TEXT="cpuset.memory_migrate"/>
<node CREATED="1446137756022" MODIFIED="1446137756022" TEXT="cpuset.memory_pressure"/>
<node CREATED="1446137756023" MODIFIED="1446137756023" TEXT="cpuset.memory_pressure_enabled"/>
<node CREATED="1446137756024" MODIFIED="1446137756024" TEXT="cpuset.memory_spread_page"/>
<node CREATED="1446137756025" MODIFIED="1446137756025" TEXT="cpuset.memory_spread_slab"/>
<node CREATED="1446137756026" MODIFIED="1446137756026" TEXT="cpuset.mems"/>
<node CREATED="1446137756027" MODIFIED="1446137756027" TEXT="cpuset.sched_load_balance"/>
<node CREATED="1446137756028" MODIFIED="1446137756028" TEXT="cpuset.sched_relax_domain_level"/>
<node CREATED="1446137756029" MODIFIED="1446137756029" TEXT="notify_on_release"/>
<node CREATED="1446137756029" MODIFIED="1446137756029" TEXT="release_agent"/>
<node CREATED="1446137756030" MODIFIED="1446137756030" TEXT="tasks"/>
</node>
<node CREATED="1446137757805" ID="ID_129622418" MODIFIED="1446137781471" TEXT="memory">
<node CREATED="1446137782620" MODIFIED="1446137782620" TEXT="cgroup.event_control"/>
<node CREATED="1446137782621" MODIFIED="1446137782621" TEXT="cgroup.procs"/>
<node CREATED="1446137782624" ID="ID_782117736" MODIFIED="1446137782624" TEXT="memory.failcnt"/>
<node CREATED="1446137782625" ID="ID_1934214413" MODIFIED="1446137782625" TEXT="memory.force_empty"/>
<node CREATED="1446137782626" ID="ID_779531365" MODIFIED="1446137782626" TEXT="memory.limit_in_bytes"/>
<node CREATED="1446137782626" ID="ID_1077918043" MODIFIED="1446137782626" TEXT="memory.max_usage_in_bytes"/>
<node CREATED="1446137782627" ID="ID_1107199572" MODIFIED="1446137782627" TEXT="memory.memsw.failcnt"/>
<node CREATED="1446137782628" ID="ID_1331399057" MODIFIED="1446137782628" TEXT="memory.memsw.limit_in_bytes"/>
<node CREATED="1446137782629" ID="ID_1052080482" MODIFIED="1446137782629" TEXT="memory.memsw.max_usage_in_bytes"/>
<node CREATED="1446137782630" ID="ID_469270033" MODIFIED="1446137782630" TEXT="memory.memsw.usage_in_bytes"/>
<node CREATED="1446137782631" ID="ID_1174648579" MODIFIED="1446137782631" TEXT="memory.move_charge_at_immigrate"/>
<node CREATED="1446137782632" ID="ID_610433672" MODIFIED="1446137782632" TEXT="memory.oom_control"/>
<node CREATED="1446137782633" ID="ID_1020204545" MODIFIED="1446137782633" TEXT="memory.soft_limit_in_bytes"/>
<node CREATED="1446137782634" ID="ID_1313578787" MODIFIED="1446137782634" TEXT="memory.stat"/>
<node CREATED="1446137782634" ID="ID_1060120481" MODIFIED="1446137782634" TEXT="memory.swappiness"/>
<node CREATED="1446137782635" ID="ID_51205632" MODIFIED="1446137782635" TEXT="memory.usage_in_bytes"/>
<node CREATED="1446137782636" ID="ID_1441258505" MODIFIED="1446137782636" TEXT="memory.use_hierarchy"/>
<node CREATED="1446137782637" ID="ID_528219175" MODIFIED="1446137782637" TEXT="notify_on_release"/>
<node CREATED="1446137782638" ID="ID_1910995105" MODIFIED="1446137782638" TEXT="release_agent"/>
<node CREATED="1446137782639" ID="ID_260883491" MODIFIED="1446137782639" TEXT="tasks"/>
</node>
<node CREATED="1446137792736" ID="ID_828840877" MODIFIED="1446137796158" TEXT="blkio">
<node CREATED="1446137814655" MODIFIED="1446137814655" TEXT="blkio.io_merged"/>
<node CREATED="1446137814656" MODIFIED="1446137814656" TEXT="blkio.io_queued"/>
<node CREATED="1446137814658" MODIFIED="1446137814658" TEXT="blkio.io_service_bytes"/>
<node CREATED="1446137814659" MODIFIED="1446137814659" TEXT="blkio.io_serviced"/>
<node CREATED="1446137814660" MODIFIED="1446137814660" TEXT="blkio.io_service_time"/>
<node CREATED="1446137814661" MODIFIED="1446137814661" TEXT="blkio.io_wait_time"/>
<node CREATED="1446137814662" MODIFIED="1446137814662" TEXT="blkio.reset_stats"/>
<node CREATED="1446137814662" ID="ID_1162261478" MODIFIED="1446137814662" TEXT="blkio.sectors"/>
<node CREATED="1446137814663" ID="ID_648359741" MODIFIED="1446137814663" TEXT="blkio.throttle.io_service_bytes"/>
<node CREATED="1446137814664" ID="ID_1705861429" MODIFIED="1446137814664" TEXT="blkio.throttle.io_serviced"/>
<node CREATED="1446137814665" ID="ID_1042400622" MODIFIED="1446137814665" TEXT="blkio.throttle.read_bps_device"/>
<node CREATED="1446137814666" ID="ID_916047817" MODIFIED="1446137814666" TEXT="blkio.throttle.read_iops_device"/>
<node CREATED="1446137814667" ID="ID_932322607" MODIFIED="1446137814667" TEXT="blkio.throttle.write_bps_device"/>
<node CREATED="1446137814667" ID="ID_1109737" MODIFIED="1446137814667" TEXT="blkio.throttle.write_iops_device"/>
<node CREATED="1446137814668" ID="ID_378417685" MODIFIED="1446137814668" TEXT="blkio.time"/>
<node CREATED="1446137814669" ID="ID_827729965" MODIFIED="1446137814669" TEXT="blkio.weight"/>
<node CREATED="1446137814669" ID="ID_498383998" MODIFIED="1446137814669" TEXT="blkio.weight_device"/>
<node CREATED="1446137814670" ID="ID_1743159618" MODIFIED="1446137814670" TEXT="cgroup.event_control"/>
<node CREATED="1446137814670" ID="ID_251207384" MODIFIED="1446137814670" TEXT="cgroup.procs"/>
<node CREATED="1446137814671" ID="ID_470160194" MODIFIED="1446137814671" TEXT="notify_on_release"/>
<node CREATED="1446137814672" MODIFIED="1446137814672" TEXT="release_agent"/>
<node CREATED="1446137814672" MODIFIED="1446137814672" TEXT="tasks"/>
</node>
<node CREATED="1446137824476" FOLDED="true" ID="ID_685270505" MODIFIED="1446137880250" TEXT="net_cls">
<node CREATED="1446137856050" MODIFIED="1446137856050" TEXT="cgroup.event_control"/>
<node CREATED="1446137856052" MODIFIED="1446137856052" TEXT="cgroup.procs"/>
<node CREATED="1446137856053" MODIFIED="1446137856053" TEXT="net_cls.classid"/>
<node CREATED="1446137856054" MODIFIED="1446137856054" TEXT="notify_on_release"/>
<node CREATED="1446137856054" MODIFIED="1446137856054" TEXT="release_agent"/>
<node CREATED="1446137856055" MODIFIED="1446137856055" TEXT="tasks"/>
</node>
<node CREATED="1446137880665" ID="ID_301921877" MODIFIED="1446137884389" TEXT="freezer">
<node CREATED="1446137885169" MODIFIED="1446137885169" TEXT="cgroup.event_control"/>
<node CREATED="1446137885170" MODIFIED="1446137885170" TEXT="cgroup.procs"/>
<node CREATED="1446137885171" MODIFIED="1446137885171" TEXT="notify_on_release"/>
<node CREATED="1446137885172" MODIFIED="1446137885172" TEXT="release_agent"/>
<node CREATED="1446137885173" MODIFIED="1446137885173" TEXT="tasks"/>
</node>
<node CREATED="1446137886400" ID="ID_1765105348" MODIFIED="1446137890908" TEXT="dervices">
<node CREATED="1446137916548" MODIFIED="1446137916548" TEXT="cgroup.event_control"/>
<node CREATED="1446137916550" MODIFIED="1446137916550" TEXT="cgroup.procs"/>
<node CREATED="1446137916551" MODIFIED="1446137916551" TEXT="devices.allow"/>
<node CREATED="1446137916551" MODIFIED="1446137916551" TEXT="devices.deny"/>
<node CREATED="1446137916552" MODIFIED="1446137916552" TEXT="devices.list"/>
<node CREATED="1446137916553" MODIFIED="1446137916553" TEXT="notify_on_release"/>
<node CREATED="1446137916554" MODIFIED="1446137916554" TEXT="release_agent"/>
<node CREATED="1446137916555" MODIFIED="1446137916555" TEXT="tasks"/>
</node>
</node>
</node>
<node CREATED="1446137951103" FOLDED="true" ID="ID_122579990" MODIFIED="1462194286049" TEXT="namespace (clone)">
<node CREATED="1446138389014" ID="ID_817230475" MODIFIED="1446138416000" TEXT=" int clone(int (*fn)(void *), void *child_stack, int flags, void *arg, ... /* pid_t *ptid, struct user_desc *tls, pid_t *ctid */ ); "/>
<node CREATED="1446138420362" ID="ID_789801115" MODIFIED="1456336837350" TEXT="flags">
<node CREATED="1446138877232" MODIFIED="1446138877232" TEXT="CLONE_CHILD_CLEARTID"/>
<node CREATED="1446138877232" MODIFIED="1446138877232" TEXT="CLONE_CHILD_SETTID"/>
<node CREATED="1446138877233" MODIFIED="1446138877233" TEXT="CLONE_DETACHED"/>
<node CREATED="1446138877234" MODIFIED="1446138877234" TEXT="CLONE_FILES"/>
<node CREATED="1446138877234" MODIFIED="1446138877234" TEXT="CLONE_FS"/>
<node CREATED="1446138877235" MODIFIED="1446138877235" TEXT="CLONE_IO"/>
<node CREATED="1446138877235" MODIFIED="1446138877235" TEXT="CLONE_NEWIPC"/>
<node CREATED="1446138877236" MODIFIED="1446138877236" TEXT="CLONE_NEWNE"/>
<node CREATED="1446138877236" MODIFIED="1446138877236" TEXT="CLONE_NEWNET"/>
<node CREATED="1446138877237" MODIFIED="1446138877237" TEXT="CLONE_NEWNS"/>
<node CREATED="1446138877237" MODIFIED="1446138877237" TEXT="CLONE_NEWPID"/>
<node CREATED="1446138877238" ID="ID_224806663" MODIFIED="1446138877238" TEXT="CLONE_NEWUTS"/>
<node CREATED="1446138877238" MODIFIED="1446138877238" TEXT="CLONE_PARENT"/>
<node CREATED="1446138877239" MODIFIED="1446138877239" TEXT="CLONE_PARENT_SETTID"/>
<node CREATED="1446138877239" MODIFIED="1446138877239" TEXT="CLONE_PID"/>
<node CREATED="1446138877240" MODIFIED="1446138877240" TEXT="CLONE_PTRACE"/>
<node CREATED="1446138877240" MODIFIED="1446138877240" TEXT="CLONE_SETTLS"/>
<node CREATED="1446138877241" MODIFIED="1446138877241" TEXT="CLONE_SIGHAND"/>
<node CREATED="1446138877241" MODIFIED="1446138877241" TEXT="CLONE_STOPPED"/>
<node CREATED="1446138877242" MODIFIED="1446138877242" TEXT="CLONE_SYSVSEM"/>
<node CREATED="1446138877244" MODIFIED="1446138877244" TEXT="CLONE_THREAD"/>
<node CREATED="1446138877244" MODIFIED="1446138877244" TEXT="CLONE_UNTRACED"/>
<node CREATED="1446138877245" MODIFIED="1446138877245" TEXT="CLONE_VFORK"/>
<node CREATED="1446138877245" MODIFIED="1446138877245" TEXT="CLONE_VM"/>
</node>
</node>
<node CREATED="1446138956711" ID="ID_844038977" MODIFIED="1446138972381" TEXT="LXC (linux container)">
<node CREATED="1446301183673" ID="ID_706229147" MODIFIED="1446301186844" TEXT="install lxc">
<node CREATED="1446300802745" ID="ID_603439681" MODIFIED="1446301191450" TEXT="git clone git://github.com/lxc/lxc"/>
<node CREATED="1446300886625" ID="ID_861259676" MODIFIED="1446301191448" TEXT="git archive --format=tar --prefix=&quot;lxc-1.1.4/&quot; lxc-1.1.4 &gt;../lxc-1.1.4.tar"/>
<node CREATED="1446300902846" ID="ID_1938433308" MODIFIED="1446301191446" TEXT="autogen.sh; configure; make; make install"/>
<node CREATED="1446300926044" ID="ID_137491444" MODIFIED="1446301191445" TEXT="PATH"/>
<node CREATED="1446301082934" ID="ID_1305360708" MODIFIED="1446301191443" TEXT="/etc/man.config"/>
<node CREATED="1446301108090" ID="ID_1353303787" MODIFIED="1446301191442" TEXT="/etc/ld.so.conf.d/"/>
</node>
<node CREATED="1446301195969" ID="ID_1463929914" MODIFIED="1446301265133" TEXT="sudo yum install bridge-utils"/>
<node CREATED="1446301270636" ID="ID_1463228080" MODIFIED="1446301293922" TEXT="service cgconfig start; chkconfig cgconfig on"/>
</node>
</node>
</node>
</node>
</map>
